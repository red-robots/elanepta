"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(d){function h(t){var e={byRow:!0,remove:!1,property:"height"};return"object"===_typeof(t)?d.extend(e,t):("boolean"==typeof t?e.byRow=t:"remove"===t&&(e.remove=!0),e)}var i=-1,n=-1,p=function(t){return parseFloat(t)||0},f=d.fn.matchHeight=function(t){var e=h(t);if(e.remove){var o=this;return this.css(e.property,""),d.each(f._groups,function(t,e){e.elements=e.elements.not(o)}),this}return this.length<=1||(f._groups.push({elements:this,options:e}),f._apply(this,e)),this};f._groups=[],f._throttle=80,f._maintainScroll=!1,f._beforeUpdate=null,f._afterUpdate=null,f._apply=function(t,e){var o,i,n,r=h(e),s=d(t),a=[s],l=d(window).scrollTop(),c=d("html").outerHeight(!0),u=s.parents().filter(":hidden");return u.each(function(){var t=d(this);t.data("style-cache",t.attr("style"))}),u.css("display","block"),r.byRow&&(s.each(function(){var t=d(this),e="inline-block"===t.css("display")?"inline-block":"block";t.data("style-cache",t.attr("style")),t.css({display:e,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})}),o=d(s),i=null,n=[],o.each(function(){var t=d(this),e=t.offset().top-p(t.css("margin-top")),o=0<n.length?n[n.length-1]:null;null!==o&&Math.floor(Math.abs(i-e))<=1?n[n.length-1]=o.add(t):n.push(t),i=e}),a=n,s.each(function(){var t=d(this);t.attr("style",t.data("style-cache")||"")})),d.each(a,function(t,e){var o=d(e),i=0;r.byRow&&o.length<=1?o.css(r.property,""):(o.each(function(){var t=d(this),e={display:"inline-block"===t.css("display")?"inline-block":"block"};e[r.property]="",t.css(e),t.outerHeight(!1)>i&&(i=t.outerHeight(!1)),t.css("display","")}),o.each(function(){var t=d(this),e=0;"border-box"!==t.css("box-sizing")&&(e+=p(t.css("border-top-width"))+p(t.css("border-bottom-width")),e+=p(t.css("padding-top"))+p(t.css("padding-bottom"))),t.css(r.property,i-e)}))}),u.each(function(){var t=d(this);t.attr("style",t.data("style-cache")||null)}),f._maintainScroll&&d(window).scrollTop(l/c*d("html").outerHeight(!0)),this},f._applyDataApi=function(){var o={};d("[data-match-height], [data-mh]").each(function(){var t=d(this),e=t.attr("data-match-height")||t.attr("data-mh");e in o?o[e]=o[e].add(t):o[e]=t}),d.each(o,function(){this.matchHeight(!0)})};function r(t){f._beforeUpdate&&f._beforeUpdate(t,f._groups),d.each(f._groups,function(){f._apply(this.elements,this.options)}),f._afterUpdate&&f._afterUpdate(t,f._groups)}f._update=function(t,e){if(e&&"resize"===e.type){var o=d(window).width();if(o===i)return;i=o}t?-1===n&&(n=setTimeout(function(){r(e),n=-1},f._throttle)):r(e)},d(f._applyDataApi),d(window).bind("load",function(t){f._update(!1,t)}),d(window).bind("resize orientationchange",function(t){f._update(!0,t)})}(jQuery),function(u,a,r){var n,d,h,p,f,m,g,v,l,y,c,w,b,x,S,t,T,z,s,E,_,L,C,M,k,I,N,P,O,A,e,W,R,o,H,D={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"Company {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1},j="colorbox",q="cbox",B=q+"Element",i=q+"_open",F=q+"_load",Y=q+"_complete",X=q+"_cleanup",U=q+"_closed",V=q+"_purge",G=u("<a/>"),Z="div",K=0,Q={};function $(t,e,o){var i=a.createElement(t);return e&&(i.id=q+e),o&&(i.style.cssText=o),u(i)}function J(){return r.innerHeight?r.innerHeight:u(r).height()}function tt(t){var e=l.length,o=(N+t)%e;return o<0?e+o:o}function et(t,e){return Math.round((/%/.test(t)?("x"===e?y.width():J())/100:1)*parseInt(t,10))}function ot(t,e){return t.photo||t.photoRegex.test(e)}function it(t,e){return t.retinaUrl&&1<r.devicePixelRatio?e.replace(t.photoRegex,t.retinaSuffix):e}function nt(t){"contains"in d[0]&&!d[0].contains(t.target)&&(t.stopPropagation(),d.focus())}function rt(){var t,e=u.data(I,j);for(t in null==e?(_=u.extend({},D),console&&console.log&&console.log("Error: cboxElement missing settings object")):_=u.extend({},e),_)u.isFunction(_[t])&&"on"!==t.slice(0,2)&&(_[t]=_[t].call(I));_.rel=_.rel||I.rel||u(I).data("rel")||"nofollow",_.href=_.href||u(I).attr("href"),_.title=_.title||I.title,"string"==typeof _.href&&(_.href=u.trim(_.href))}function st(t,e){u(a).trigger(t),G.triggerHandler(t),u.isFunction(e)&&e.call(I)}var at,lt,ct,ut,dt=(ct=q+"Slideshow_",ut="click."+q,function(){at?_.slideshow||(G.unbind(X,gt),gt()):_.slideshow&&l[1]&&(at=!0,G.one(X,gt),(_.slideshowAuto?ft:mt)(),t.show())});function ht(){clearTimeout(lt)}function pt(){(_.loop||l[N+1])&&(ht(),lt=setTimeout(R.next,_.slideshowSpeed))}function ft(){t.html(_.slideshowStop).unbind(ut).one(ut,mt),G.bind(Y,pt).bind(F,ht),d.removeClass(ct+"off").addClass(ct+"on")}function mt(){ht(),G.unbind(Y,pt).unbind(F,ht),t.html(_.slideshowStart).unbind(ut).one(ut,function(){R.next(),ft()}),d.removeClass(ct+"on").addClass(ct+"off")}function gt(){at=!1,t.hide(),ht(),G.unbind(Y,pt).unbind(F,ht),d.removeClass(ct+"off "+ct+"on")}function vt(t){e||(I=t,rt(),l=u(I),N=0,"nofollow"!==_.rel&&(l=u("."+B).filter(function(){var t,e=u.data(this,j);return e&&(t=u(this).data("rel")||e.rel||this.rel),t===_.rel}),-1===(N=l.index(I))&&(l=l.add(I),N=l.length-1)),n.css({opacity:parseFloat(_.opacity),cursor:_.overlayClose?"pointer":"auto",visibility:"visible"}).show(),o&&d.add(n).removeClass(o),_.className&&d.add(n).addClass(_.className),o=_.className,_.closeButton?s.html(_.close).appendTo(p):s.appendTo("<div/>"),O||(O=A=!0,d.css({visibility:"hidden",display:"block"}),c=$(Z,"LoadedContent","width:0; height:0; overflow:hidden"),p.css({width:"",height:""}).append(c),L=f.height()+v.height()+p.outerHeight(!0)-p.height(),C=m.width()+g.width()+p.outerWidth(!0)-p.width(),M=c.outerHeight(!0),k=c.outerWidth(!0),_.w=et(_.initialWidth,"x"),_.h=et(_.initialHeight,"y"),c.css({width:"",height:_.h}),R.position(),st(i,_.onOpen),E.add(x).hide(),d.focus(),_.trapFocus&&a.addEventListener&&(a.addEventListener("focus",nt,!0),G.one(U,function(){a.removeEventListener("focus",nt,!0)})),_.returnFocus&&G.one(U,function(){u(I).focus()})),function(){var t,e,o,i=R.prep,n=++K;P=!(A=!0),I=l[N],rt(),st(V),st(F,_.onLoad),_.h=_.height?et(_.height,"y")-M-L:_.innerHeight&&et(_.innerHeight,"y"),_.w=_.width?et(_.width,"x")-k-C:_.innerWidth&&et(_.innerWidth,"x"),_.mw=_.w,_.mh=_.h,_.maxWidth&&(_.mw=et(_.maxWidth,"x")-k-C,_.mw=_.w&&_.w<_.mw?_.w:_.mw);_.maxHeight&&(_.mh=et(_.maxHeight,"y")-M-L,_.mh=_.h&&_.h<_.mh?_.h:_.mh);t=_.href,W=setTimeout(function(){b.show()},100),_.inline?(o=$(Z).hide().insertBefore(u(t)[0]),G.one(V,function(){o.replaceWith(c.children())}),i(u(t))):_.iframe?i(" "):_.html?i(_.html):ot(_,t)?(t=it(_,t),P=a.createElement("img"),u(P).addClass(q+"Photo").bind("error",function(){_.title=!1,i($(Z,"Error").html(_.imgError))}).one("load",function(){var t;n===K&&(u.each(["alt","longdesc","aria-describedby"],function(t,e){var o=u(I).attr(e)||u(I).attr("data-"+e);o&&P.setAttribute(e,o)}),_.retinaImage&&1<r.devicePixelRatio&&(P.height=P.height/r.devicePixelRatio,P.width=P.width/r.devicePixelRatio),_.scalePhotos&&(e=function(){P.height-=P.height*t,P.width-=P.width*t},_.mw&&P.width>_.mw&&(t=(P.width-_.mw)/P.width,e()),_.mh&&P.height>_.mh&&(t=(P.height-_.mh)/P.height,e())),_.h&&(P.style.marginTop=Math.max(_.mh-P.height,0)/2+"px"),l[1]&&(_.loop||l[N+1])&&(P.style.cursor="pointer",P.onclick=function(){R.next()}),P.style.width=P.width+"px",P.style.height=P.height+"px",setTimeout(function(){i(P)},1))}),setTimeout(function(){P.src=t},1)):t&&w.load(t,_.data,function(t,e){n===K&&i("error"===e?$(Z,"Error").html(_.xhrError):u(this).contents())})}())}function yt(){!d&&a.body&&(H=!1,y=u(r),d=$(Z).attr({id:j,class:!1===u.support.opacity?q+"IE":"",role:"dialog",tabindex:"-1"}).hide(),n=$(Z,"Overlay").hide(),b=u([$(Z,"LoadingOverlay")[0],$(Z,"LoadingGraphic")[0]]),h=$(Z,"Wrapper"),p=$(Z,"Content").append(x=$(Z,"Title"),S=$(Z,"Current"),z=u('<button type="button"/>').attr({id:q+"Previous"}),T=u('<button type="button"/>').attr({id:q+"Next"}),t=$("button","Slideshow"),b),s=u('<button type="button"/>').attr({id:q+"Close"}),h.append($(Z).append($(Z,"TopLeft"),f=$(Z,"TopCenter"),$(Z,"TopRight")),$(Z,!1,"clear:left").append(m=$(Z,"MiddleLeft"),p,g=$(Z,"MiddleRight")),$(Z,!1,"clear:left").append($(Z,"BottomLeft"),v=$(Z,"BottomCenter"),$(Z,"BottomRight"))).find("div div").css({float:"left"}),w=$(Z,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),E=T.add(z).add(S).add(t),u(a.body).append(n,d.append(h,w)))}u.colorbox||(u(yt),(R=u.fn[j]=u[j]=function(t,e){var o=this;if(t=t||{},yt(),d&&(H||(H=!0,T.click(function(){R.next()}),z.click(function(){R.prev()}),s.click(function(){R.close()}),n.click(function(){_.overlayClose&&R.close()}),u(a).bind("keydown."+q,function(t){var e=t.keyCode;O&&_.escKey&&27===e&&(t.preventDefault(),R.close()),O&&_.arrowKey&&l[1]&&!t.altKey&&(37===e?(t.preventDefault(),z.click()):39===e&&(t.preventDefault(),T.click()))}),u.isFunction(u.fn.on)?u(a).on("click."+q,"."+B,i):u("."+B).live("click."+q,i)),1)){if(u.isFunction(o))o=u("<a/>"),t.open=!0;else if(!o[0])return o;e&&(t.onComplete=e),o.each(function(){u.data(this,j,u.extend({},u.data(this,j)||D,t))}).addClass(B),(u.isFunction(t.open)&&t.open.call(o)||t.open)&&vt(o[0])}function i(t){1<t.which||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),vt(this))}return o}).position=function(e,t){var o,i,n,r,s=0,a=0,l=d.offset();function c(){f[0].style.width=v[0].style.width=p[0].style.width=parseInt(d[0].style.width,10)-C+"px",p[0].style.height=m[0].style.height=g[0].style.height=parseInt(d[0].style.height,10)-L+"px"}y.unbind("resize."+q),d.css({top:-9e4,left:-9e4}),i=y.scrollTop(),n=y.scrollLeft(),_.fixed?(l.top-=i,l.left-=n,d.css({position:"fixed"})):(s=i,a=n,d.css({position:"absolute"})),!1!==_.right?a+=Math.max(y.width()-_.w-k-C-et(_.right,"x"),0):!1!==_.left?a+=et(_.left,"x"):a+=Math.round(Math.max(y.width()-_.w-k-C,0)/2),!1!==_.bottom?s+=Math.max(J()-_.h-M-L-et(_.bottom,"y"),0):!1!==_.top?s+=et(_.top,"y"):s+=Math.round(Math.max(J()-_.h-M-L,0)/2),d.css({top:l.top,left:l.left,visibility:"visible"}),h[0].style.width=h[0].style.height="9999px",o={width:_.w+k+C,height:_.h+M+L,top:s,left:a},e&&(r=0,u.each(o,function(t){o[t]===Q[t]||(r=e)}),e=r),Q=o,e||d.css(o),d.dequeue().animate(o,{duration:e||0,complete:function(){c(),A=!1,h[0].style.width=_.w+k+C+"px",h[0].style.height=_.h+M+L+"px",_.reposition&&setTimeout(function(){y.bind("resize."+q,R.position)},1),t&&t()},step:c})},R.resize=function(t){var e;O&&((t=t||{}).width&&(_.w=et(t.width,"x")-k-C),t.innerWidth&&(_.w=et(t.innerWidth,"x")),c.css({width:_.w}),t.height&&(_.h=et(t.height,"y")-M-L),t.innerHeight&&(_.h=et(t.innerHeight,"y")),t.innerHeight||t.height||(e=c.scrollTop(),c.css({height:"auto"}),_.h=c.height()),c.css({height:_.h}),e&&c.scrollTop(e),R.position("none"===_.transition?0:_.speed))},R.prep=function(t){var e,s;O&&(s="none"===_.transition?0:_.speed,c.empty().remove(),(c=$(Z,"LoadedContent").append(t)).hide().appendTo(w.show()).css({width:(_.w=_.w||c.width(),_.w=_.mw&&_.mw<_.w?_.mw:_.w,_.w),overflow:_.scrolling?"auto":"hidden"}).css({height:(_.h=_.h||c.height(),_.h=_.mh&&_.mh<_.h?_.mh:_.h,_.h)}).prependTo(p),w.hide(),u(P).css({float:"none"}),e=function(){var t,e,o=l.length,i="frameBorder",n="allowTransparency";function r(){!1===u.support.opacity&&d[0].style.removeAttribute("filter")}O&&(e=function(){clearTimeout(W),b.hide(),st(Y,_.onComplete)},x.html(_.title).add(c).show(),1<o?("string"==typeof _.current&&S.html(_.current.replace("{current}",N+1).replace("{total}",o)).show(),T[_.loop||N<o-1?"show":"hide"]().html(_.next),z[_.loop||N?"show":"hide"]().html(_.previous),dt(),_.preloading&&u.each([tt(-1),tt(1)],function(){var t,e=l[this],o=u.data(e,j);o&&o.href?(t=o.href,u.isFunction(t)&&(t=t.call(e))):t=u(e).attr("href"),t&&ot(o,t)&&(t=it(o,t),a.createElement("img").src=t)})):E.hide(),_.iframe?(i in(t=$("iframe")[0])&&(t[i]=0),n in t&&(t[n]="true"),_.scrolling||(t.scrolling="no"),u(t).attr({src:_.href,name:(new Date).getTime(),class:q+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",e).appendTo(c),G.one(V,function(){t.src="//about:blank"}),_.fastIframe&&u(t).trigger("load")):e(),"fade"===_.transition?d.fadeTo(s,1,r):r())},"fade"===_.transition?d.fadeTo(s,0,function(){R.position(0,e)}):R.position(s,e))},R.next=function(){!A&&l[1]&&(_.loop||l[N+1])&&(N=tt(1),vt(l[N]))},R.prev=function(){!A&&l[1]&&(_.loop||N)&&(N=tt(-1),vt(l[N]))},R.close=function(){O&&!e&&(O=!(e=!0),st(X,_.onCleanup),y.unbind("."+q),n.fadeTo(_.fadeOut||0,0),d.stop().fadeTo(_.fadeOut||0,0,function(){d.add(n).css({opacity:1,cursor:"auto"}).hide(),st(V),c.empty().remove(),setTimeout(function(){e=!1,st(U,_.onClosed)},1)}))},R.remove=function(){d&&(d.stop(),u.colorbox.close(),d.stop().remove(),n.remove(),e=!1,d=null,u("."+B).removeData(j).removeClass(B),u(a).unbind("click."+q))},R.element=function(){return u(I)},R.settings=D)}(jQuery,document,window),function(e){wp.customize("blogname",function(t){t.bind(function(t){e(".site-title a").text(t)})}),wp.customize("blogdescription",function(t){t.bind(function(t){e(".site-description").text(t)})}),wp.customize("header_textcolor",function(t){t.bind(function(t){"blank"===t?e(".site-title a, .site-description").css({clip:"rect(1px, 1px, 1px, 1px)",position:"absolute"}):(e(".site-title a, .site-description").css({clip:"auto",position:"relative"}),e(".site-title a, .site-description").css({color:t}))})})}(jQuery),function(x){x.flexslider=function(p,t){var f=x(p);f.vars=x.extend({},x.flexslider.defaults,t);var e,u=f.vars.namespace,m=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,d=("ontouchstart"in window||m||window.DocumentTouch&&document instanceof DocumentTouch)&&f.vars.touch,s="click touchend MSPointerUp",a="",g="vertical"===f.vars.direction,v=f.vars.reverse,y=0<f.vars.itemWidth,w="fade"===f.vars.animation,h=""!==f.vars.asNavFor,b={};x.data(p,"flexslider",f),b={init:function(){f.animating=!1,f.currentSlide=parseInt(f.vars.startAt?f.vars.startAt:0),isNaN(f.currentSlide)&&(f.currentSlide=0),f.animatingTo=f.currentSlide,f.atEnd=0===f.currentSlide||f.currentSlide===f.last,f.containerSelector=f.vars.selector.substr(0,f.vars.selector.search(" ")),f.slides=x(f.vars.selector,f),f.container=x(f.containerSelector,f),f.count=f.slides.length,f.syncExists=0<x(f.vars.sync).length,"slide"===f.vars.animation&&(f.vars.animation="swing"),f.prop=g?"top":"marginLeft",f.args={},f.manualPause=!1,f.stopped=!1,f.started=!1,f.startTimeout=null,f.transitions=!f.vars.video&&!w&&f.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var o in e)if(void 0!==t.style[e[o]])return f.pfx=e[o].replace("Perspective","").toLowerCase(),f.prop="-"+f.pfx+"-transform",!0;return!1}(),""!==f.vars.controlsContainer&&(f.controlsContainer=0<x(f.vars.controlsContainer).length&&x(f.vars.controlsContainer)),""!==f.vars.manualControls&&(f.manualControls=0<x(f.vars.manualControls).length&&x(f.vars.manualControls)),f.vars.randomize&&(f.slides.sort(function(){return Math.round(Math.random())-.5}),f.container.empty().append(f.slides)),f.doMath(),f.setup("init"),f.vars.controlNav&&b.controlNav.setup(),f.vars.directionNav&&b.directionNav.setup(),f.vars.keyboard&&(1===x(f.containerSelector).length||f.vars.multipleKeyboard)&&x(document).bind("keyup",function(t){var e,o=t.keyCode;f.animating||39!==o&&37!==o||(e=39===o?f.getTarget("next"):37===o&&f.getTarget("prev"),f.flexAnimate(e,f.vars.pauseOnAction))}),f.vars.mousewheel&&f.bind("mousewheel",function(t,e,o,i){t.preventDefault();var n=e<0?f.getTarget("next"):f.getTarget("prev");f.flexAnimate(n,f.vars.pauseOnAction)}),f.vars.pausePlay&&b.pausePlay.setup(),f.vars.slideshow&&f.vars.pauseInvisible&&b.pauseInvisible.init(),f.vars.slideshow&&(f.vars.pauseOnHover&&f.hover(function(){f.manualPlay||f.manualPause||f.pause()},function(){f.manualPause||f.manualPlay||f.stopped||f.play()}),f.vars.pauseInvisible&&b.pauseInvisible.isHidden()||(0<f.vars.initDelay?f.startTimeout=setTimeout(f.play,f.vars.initDelay):f.play())),h&&b.asNav.setup(),d&&f.vars.touch&&b.touch(),(!w||w&&f.vars.smoothHeight)&&x(window).bind("resize orientationchange focus",b.resize),f.find("img").attr("draggable","false"),setTimeout(function(){f.vars.start(f)},200)},asNav:{setup:function(){f.asNav=!0,f.animatingTo=Math.floor(f.currentSlide/f.move),f.currentItem=f.currentSlide,f.slides.removeClass(u+"active-slide").eq(f.currentItem).addClass(u+"active-slide"),m?(p._slider=f).slides.each(function(){var t=this;t._gesture=new MSGesture,(t._gesture.target=t).addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var e=x(this),o=e.index();x(f.vars.asNavFor).data("flexslider").animating||e.hasClass("active")||(f.direction=f.currentItem<o?"next":"prev",f.flexAnimate(o,f.vars.pauseOnAction,!1,!0,!0))})}):f.slides.click(function(t){t.preventDefault();var e=x(this),o=e.index();e.offset().left-x(f).scrollLeft()<=0&&e.hasClass(u+"active-slide")?f.flexAnimate(f.getTarget("prev"),!0):x(f.vars.asNavFor).data("flexslider").animating||e.hasClass(u+"active-slide")||(f.direction=f.currentItem<o?"next":"prev",f.flexAnimate(o,f.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){f.manualControls?b.controlNav.setupManual():b.controlNav.setupPaging()},setupPaging:function(){var t="thumbnails"===f.vars.controlNav?"control-thumbs":"control-paging",e=1;if(f.controlNavScaffold=x('<ol class="'+u+"control-nav "+u+t+'"></ol>'),1<f.pagingCount)for(var o=0;o<f.pagingCount;o++){var i,n=f.slides.eq(o),r="thumbnails"===f.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+e+"</a>";"thumbnails"!==f.vars.controlNav||!0!==f.vars.thumbCaptions||""!=(i=n.attr("data-thumbcaption"))&&null!=i&&(r+='<span class="'+u+'caption">'+i+"</span>"),f.controlNavScaffold.append("<li>"+r+"</li>"),e++}f.controlsContainer?x(f.controlsContainer).append(f.controlNavScaffold):f.append(f.controlNavScaffold),b.controlNav.set(),b.controlNav.active(),f.controlNavScaffold.delegate("a, img",s,function(t){var e,o;t.preventDefault(),""!==a&&a!==t.type||(e=x(this),o=f.controlNav.index(e),e.hasClass(u+"active")||(f.direction=o>f.currentSlide?"next":"prev",f.flexAnimate(o,f.vars.pauseOnAction))),""===a&&(a=t.type),b.setToClearWatchedEvent()})},setupManual:function(){f.controlNav=f.manualControls,b.controlNav.active(),f.controlNav.bind(s,function(t){var e,o;t.preventDefault(),""!==a&&a!==t.type||(e=x(this),o=f.controlNav.index(e),e.hasClass(u+"active")||(o>f.currentSlide?f.direction="next":f.direction="prev",f.flexAnimate(o,f.vars.pauseOnAction))),""===a&&(a=t.type),b.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===f.vars.controlNav?"img":"a";f.controlNav=x("."+u+"control-nav li "+t,f.controlsContainer?f.controlsContainer:f)},active:function(){f.controlNav.removeClass(u+"active").eq(f.animatingTo).addClass(u+"active")},update:function(t,e){1<f.pagingCount&&"add"===t?f.controlNavScaffold.append(x("<li><a>"+f.count+"</a></li>")):1===f.pagingCount?f.controlNavScaffold.find("li").remove():f.controlNav.eq(e).closest("li").remove(),b.controlNav.set(),1<f.pagingCount&&f.pagingCount!==f.controlNav.length?f.update(e,t):b.controlNav.active()}},directionNav:{setup:function(){var t=x('<ul class="'+u+'direction-nav"><li><a class="'+u+'prev" href="#">'+f.vars.prevText+'</a></li><li><a class="'+u+'next" href="#">'+f.vars.nextText+"</a></li></ul>");f.controlsContainer?(x(f.controlsContainer).append(t),f.directionNav=x("."+u+"direction-nav li a",f.controlsContainer)):(f.append(t),f.directionNav=x("."+u+"direction-nav li a",f)),b.directionNav.update(),f.directionNav.bind(s,function(t){var e;t.preventDefault(),""!==a&&a!==t.type||(e=x(this).hasClass(u+"next")?f.getTarget("next"):f.getTarget("prev"),f.flexAnimate(e,f.vars.pauseOnAction)),""===a&&(a=t.type),b.setToClearWatchedEvent()})},update:function(){var t=u+"disabled";1===f.pagingCount?f.directionNav.addClass(t).attr("tabindex","-1"):f.vars.animationLoop?f.directionNav.removeClass(t).removeAttr("tabindex"):0===f.animatingTo?f.directionNav.removeClass(t).filter("."+u+"prev").addClass(t).attr("tabindex","-1"):f.animatingTo===f.last?f.directionNav.removeClass(t).filter("."+u+"next").addClass(t).attr("tabindex","-1"):f.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=x('<div class="'+u+'pauseplay"><a></a></div>');f.controlsContainer?(f.controlsContainer.append(t),f.pausePlay=x("."+u+"pauseplay a",f.controlsContainer)):(f.append(t),f.pausePlay=x("."+u+"pauseplay a",f)),b.pausePlay.update(f.vars.slideshow?u+"pause":u+"play"),f.pausePlay.bind(s,function(t){t.preventDefault(),""!==a&&a!==t.type||(x(this).hasClass(u+"pause")?(f.manualPause=!0,f.manualPlay=!1,f.pause()):(f.manualPause=!1,f.manualPlay=!0,f.play())),""===a&&(a=t.type),b.setToClearWatchedEvent()})},update:function(t){"play"===t?f.pausePlay.removeClass(u+"pause").addClass(u+"play").html(f.vars.playText):f.pausePlay.removeClass(u+"play").addClass(u+"pause").html(f.vars.pauseText)}},touch:function(){var n,r,s,a,l,c,u,e,d=!1,o=0,i=0,h=0;m?(p.style.msTouchAction="none",p._gesture=new MSGesture,(p._gesture.target=p).addEventListener("MSPointerDown",function(t){t.stopPropagation(),f.animating?t.preventDefault():(f.pause(),p._gesture.addPointer(t.pointerId),h=0,a=g?f.h:f.w,c=Number(new Date),s=y&&v&&f.animatingTo===f.last?0:y&&v?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:y&&f.currentSlide===f.last?f.limit:y?(f.itemW+f.vars.itemMargin)*f.move*f.currentSlide:v?(f.last-f.currentSlide+f.cloneOffset)*a:(f.currentSlide+f.cloneOffset)*a)},!1),p._slider=f,p.addEventListener("MSGestureChange",function(t){t.stopPropagation();var e,o,i=t.target._slider;i&&(e=-t.translationX,o=-t.translationY,l=h+=g?o:e,d=g?Math.abs(h)<Math.abs(-e):Math.abs(h)<Math.abs(-o),t.detail!==t.MSGESTURE_FLAG_INERTIA?(!d||500<Number(new Date)-c)&&(t.preventDefault(),!w&&i.transitions&&(i.vars.animationLoop||(l=h/(0===i.currentSlide&&h<0||i.currentSlide===i.last&&0<h?Math.abs(h)/a+2:1)),i.setProps(s+l,"setTouch"))):setImmediate(function(){p._gesture.stop()}))},!1),p.addEventListener("MSGestureEnd",function(t){t.stopPropagation();var e,o,i=t.target._slider;i&&(i.animatingTo!==i.currentSlide||d||null===l||(o=0<(e=v?-l:l)?i.getTarget("next"):i.getTarget("prev"),i.canAdvance(o)&&(Number(new Date)-c<550&&50<Math.abs(e)||Math.abs(e)>a/2)?i.flexAnimate(o,i.vars.pauseOnAction):w||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)),s=l=r=n=null,h=0)},!1)):(u=function(t){o=t.touches[0].pageX,i=t.touches[0].pageY,l=g?n-i:n-o;(!(d=g?Math.abs(l)<Math.abs(o-r):Math.abs(l)<Math.abs(i-r))||500<Number(new Date)-c)&&(t.preventDefault(),!w&&f.transitions&&(f.vars.animationLoop||(l/=0===f.currentSlide&&l<0||f.currentSlide===f.last&&0<l?Math.abs(l)/a+2:1),f.setProps(s+l,"setTouch")))},e=function t(e){var o,i;p.removeEventListener("touchmove",u,!1),f.animatingTo!==f.currentSlide||d||null===l||(i=0<(o=v?-l:l)?f.getTarget("next"):f.getTarget("prev"),f.canAdvance(i)&&(Number(new Date)-c<550&&50<Math.abs(o)||Math.abs(o)>a/2)?f.flexAnimate(i,f.vars.pauseOnAction):w||f.flexAnimate(f.currentSlide,f.vars.pauseOnAction,!0)),p.removeEventListener("touchend",t,!1),s=l=r=n=null},p.addEventListener("touchstart",function(t){f.animating?t.preventDefault():!window.navigator.msPointerEnabled&&1!==t.touches.length||(f.pause(),a=g?f.h:f.w,c=Number(new Date),o=t.touches[0].pageX,i=t.touches[0].pageY,s=y&&v&&f.animatingTo===f.last?0:y&&v?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:y&&f.currentSlide===f.last?f.limit:y?(f.itemW+f.vars.itemMargin)*f.move*f.currentSlide:v?(f.last-f.currentSlide+f.cloneOffset)*a:(f.currentSlide+f.cloneOffset)*a,n=g?i:o,r=g?o:i,p.addEventListener("touchmove",u,!1),p.addEventListener("touchend",e,!1))},!1))},resize:function(){!f.animating&&f.is(":visible")&&(y||f.doMath(),w?b.smoothHeight():y?(f.slides.width(f.computedW),f.update(f.pagingCount),f.setProps()):g?(f.viewport.height(f.h),f.setProps(f.h,"setTotal")):(f.vars.smoothHeight&&b.smoothHeight(),f.newSlides.width(f.computedW),f.setProps(f.computedW,"setTotal")))},smoothHeight:function(t){var e;g&&!w||(e=w?f:f.viewport,t?e.animate({height:f.slides.eq(f.animatingTo).height()},t):e.height(f.slides.eq(f.animatingTo).height()))},sync:function(t){var e=x(f.vars.sync).data("flexslider"),o=f.animatingTo;switch(t){case"animate":e.flexAnimate(o,f.vars.pauseOnAction,!1,!0);break;case"play":e.playing||e.asNav||e.play();break;case"pause":e.pause()}},pauseInvisible:{visProp:null,init:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e,o=0;o<t.length;o++)t[o]+"Hidden"in document&&(b.pauseInvisible.visProp=t[o]+"Hidden");b.pauseInvisible.visProp&&(e=b.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange",document.addEventListener(e,function(){b.pauseInvisible.isHidden()?f.startTimeout?clearTimeout(f.startTimeout):f.pause():!f.started&&0<f.vars.initDelay?setTimeout(f.play,f.vars.initDelay):f.play()}))},isHidden:function(){return document[b.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(e),e=setTimeout(function(){a=""},3e3)}},f.flexAnimate=function(t,e,o,i,n){if(f.vars.animationLoop||t===f.currentSlide||(f.direction=t>f.currentSlide?"next":"prev"),h&&1===f.pagingCount&&(f.direction=f.currentItem<t?"next":"prev"),!f.animating&&(f.canAdvance(t,n)||o)&&f.is(":visible")){if(h&&i){var r=x(f.vars.asNavFor).data("flexslider");if(f.atEnd=0===t||t===f.count-1,r.flexAnimate(t,!0,!1,!0,n),f.direction=f.currentItem<t?"next":"prev",r.direction=f.direction,Math.ceil((t+1)/f.visible)-1===f.currentSlide||0===t)return f.currentItem=t,f.slides.removeClass(u+"active-slide").eq(t).addClass(u+"active-slide"),!1;f.currentItem=t,f.slides.removeClass(u+"active-slide").eq(t).addClass(u+"active-slide"),t=Math.floor(t/f.visible)}var s,a,l,c;f.animating=!0,f.animatingTo=t,e&&f.pause(),f.vars.before(f),f.syncExists&&!n&&b.sync("animate"),f.vars.controlNav&&b.controlNav.active(),y||f.slides.removeClass(u+"active-slide").eq(t).addClass(u+"active-slide"),f.atEnd=0===t||t===f.last,f.vars.directionNav&&b.directionNav.update(),t===f.last&&(f.vars.end(f),f.vars.animationLoop||f.pause()),w?d?(f.slides.eq(f.currentSlide).css({opacity:0,zIndex:1}),f.slides.eq(t).css({opacity:1,zIndex:2}),f.wrapup(s)):(f.slides.eq(f.currentSlide).css({zIndex:1}).animate({opacity:0},f.vars.animationSpeed,f.vars.easing),f.slides.eq(t).css({zIndex:2}).animate({opacity:1},f.vars.animationSpeed,f.vars.easing,f.wrapup)):(s=g?f.slides.filter(":first").height():f.computedW,c=y?(a=f.vars.itemMargin,(l=(f.itemW+a)*f.move*f.animatingTo)>f.limit&&1!==f.visible?f.limit:l):0===f.currentSlide&&t===f.count-1&&f.vars.animationLoop&&"next"!==f.direction?v?(f.count+f.cloneOffset)*s:0:f.currentSlide===f.last&&0===t&&f.vars.animationLoop&&"prev"!==f.direction?v?0:(f.count+1)*s:v?(f.count-1-t+f.cloneOffset)*s:(t+f.cloneOffset)*s,f.setProps(c,"",f.vars.animationSpeed),f.transitions?(f.vars.animationLoop&&f.atEnd||(f.animating=!1,f.currentSlide=f.animatingTo),f.container.unbind("webkitTransitionEnd transitionend"),f.container.bind("webkitTransitionEnd transitionend",function(){f.wrapup(s)})):f.container.animate(f.args,f.vars.animationSpeed,f.vars.easing,function(){f.wrapup(s)})),f.vars.smoothHeight&&b.smoothHeight(f.vars.animationSpeed)}},f.wrapup=function(t){w||y||(0===f.currentSlide&&f.animatingTo===f.last&&f.vars.animationLoop?f.setProps(t,"jumpEnd"):f.currentSlide===f.last&&0===f.animatingTo&&f.vars.animationLoop&&f.setProps(t,"jumpStart")),f.animating=!1,f.currentSlide=f.animatingTo,f.vars.after(f)},f.animateSlides=function(){f.animating||f.flexAnimate(f.getTarget("next"))},f.pause=function(){clearInterval(f.animatedSlides),f.animatedSlides=null,f.playing=!1,f.vars.pausePlay&&b.pausePlay.update("play"),f.syncExists&&b.sync("pause")},f.play=function(){f.playing&&clearInterval(f.animatedSlides),f.animatedSlides=f.animatedSlides||setInterval(f.animateSlides,f.vars.slideshowSpeed),f.started=f.playing=!0,f.vars.pausePlay&&b.pausePlay.update("pause"),f.syncExists&&b.sync("play")},f.stop=function(){f.pause(),f.stopped=!0},f.canAdvance=function(t,e){var o=h?f.pagingCount-1:f.last;return!!e||(h&&f.currentItem===f.count-1&&0===t&&"prev"===f.direction||(!h||0!==f.currentItem||t!==f.pagingCount-1||"next"===f.direction)&&((t!==f.currentSlide||h)&&(!!f.vars.animationLoop||(!f.atEnd||0!==f.currentSlide||t!==o||"next"===f.direction)&&(!f.atEnd||f.currentSlide!==o||0!==t||"next"!==f.direction))))},f.getTarget=function(t){return"next"===(f.direction=t)?f.currentSlide===f.last?0:f.currentSlide+1:0===f.currentSlide?f.last:f.currentSlide-1},f.setProps=function(t,e,o){var i,n=(i=t||(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo,-1*function(){if(y)return"setTouch"===e?t:v&&f.animatingTo===f.last?0:v?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:f.animatingTo===f.last?f.limit:i;switch(e){case"setTotal":return v?(f.count-1-f.currentSlide+f.cloneOffset)*t:(f.currentSlide+f.cloneOffset)*t;case"setTouch":return t;case"jumpEnd":return v?t:f.count*t;case"jumpStart":return v?f.count*t:t;default:return t}}()+"px");f.transitions&&(n=g?"translate3d(0,"+n+",0)":"translate3d("+n+",0,0)",o=void 0!==o?o/1e3+"s":"0s",f.container.css("-"+f.pfx+"-transition-duration",o)),f.args[f.prop]=n,!f.transitions&&void 0!==o||f.container.css(f.args)},f.setup=function(t){var e,o;w?(f.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===t&&(d?f.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+f.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(f.currentSlide).css({opacity:1,zIndex:2}):f.slides.css({opacity:0,display:"block",zIndex:1}).eq(f.currentSlide).css({zIndex:2}).animate({opacity:1},f.vars.animationSpeed,f.vars.easing)),f.vars.smoothHeight&&b.smoothHeight()):("init"===t&&(f.viewport=x('<div class="'+u+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(f).append(f.container),f.cloneCount=0,f.cloneOffset=0,v&&(o=x.makeArray(f.slides).reverse(),f.slides=x(o),f.container.empty().append(f.slides))),f.vars.animationLoop&&!y&&(f.cloneCount=2,f.cloneOffset=1,"init"!==t&&f.container.find(".clone").remove(),f.container.append(f.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(f.slides.last().clone().addClass("clone").attr("aria-hidden","true"))),f.newSlides=x(f.vars.selector,f),e=v?f.count-1-f.currentSlide+f.cloneOffset:f.currentSlide+f.cloneOffset,g&&!y?(f.container.height(200*(f.count+f.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){f.newSlides.css({display:"block"}),f.doMath(),f.viewport.height(f.h),f.setProps(e*f.h,"init")},"init"===t?100:0)):(f.container.width(200*(f.count+f.cloneCount)+"%"),f.setProps(e*f.computedW,"init"),setTimeout(function(){f.doMath(),f.newSlides.css({width:f.computedW,float:"left",display:"block"}),f.vars.smoothHeight&&b.smoothHeight()},"init"===t?100:0))),y||f.slides.removeClass(u+"active-slide").eq(f.currentSlide).addClass(u+"active-slide")},f.doMath=function(){var t=f.slides.first(),e=f.vars.itemMargin,o=f.vars.minItems,i=f.vars.maxItems;f.w=void 0===f.viewport?f.width():f.viewport.width(),f.h=t.height(),f.boxPadding=t.outerWidth()-t.width(),y?(f.itemT=f.vars.itemWidth+e,f.minW=o?o*f.itemT:f.w,f.maxW=i?i*f.itemT-e:f.w,f.itemW=f.minW>f.w?(f.w-e*(o-1))/o:f.maxW<f.w?(f.w-e*(i-1))/i:f.vars.itemWidth>f.w?f.w:f.vars.itemWidth,f.visible=Math.floor(f.w/f.itemW),f.move=0<f.vars.move&&f.vars.move<f.visible?f.vars.move:f.visible,f.pagingCount=Math.ceil((f.count-f.visible)/f.move+1),f.last=f.pagingCount-1,f.limit=1===f.pagingCount?0:f.vars.itemWidth>f.w?f.itemW*(f.count-1)+e*(f.count-1):(f.itemW+e)*f.count-f.w-e):(f.itemW=f.w,f.pagingCount=f.count,f.last=f.count-1),f.computedW=f.itemW-f.boxPadding},f.update=function(t,e){f.doMath(),y||(t<f.currentSlide?f.currentSlide+=1:t<=f.currentSlide&&0!==t&&--f.currentSlide,f.animatingTo=f.currentSlide),f.vars.controlNav&&!f.manualControls&&("add"===e&&!y||f.pagingCount>f.controlNav.length?b.controlNav.update("add"):("remove"===e&&!y||f.pagingCount<f.controlNav.length)&&(y&&f.currentSlide>f.last&&(--f.currentSlide,--f.animatingTo),b.controlNav.update("remove",f.last))),f.vars.directionNav&&b.directionNav.update()},f.addSlide=function(t,e){var o=x(t);f.count+=1,f.last=f.count-1,g&&v?void 0!==e?f.slides.eq(f.count-e).after(o):f.container.prepend(o):void 0!==e?f.slides.eq(e).before(o):f.container.append(o),f.update(e,"add"),f.slides=x(f.vars.selector+":not(.clone)",f),f.setup(),f.vars.added(f)},f.removeSlide=function(t){var e=isNaN(t)?f.slides.index(x(t)):t;--f.count,f.last=f.count-1,isNaN(t)?x(t,f.slides).remove():g&&v?f.slides.eq(f.last).remove():f.slides.eq(t).remove(),f.doMath(),f.update(e,"remove"),f.slides=x(f.vars.selector+":not(.clone)",f),f.setup(),f.vars.removed(f)},b.init()},x(window).blur(function(t){focused=!1}).focus(function(t){focused=!0}),x.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}},x.fn.flexslider=function(i){if(void 0===i&&(i={}),"object"===_typeof(i))return this.each(function(){var t=x(this),e=i.selector?i.selector:".slides > li",o=t.find(e);1===o.length&&!0===i.allowOneSlide||0===o.length?(o.fadeIn(400),i.start&&i.start(t)):void 0===t.data("flexslider")&&new x.flexslider(this,i)});var t=x(this).data("flexslider");switch(i){case"play":t.play();break;case"pause":t.pause();break;case"stop":t.stop();break;case"next":t.flexAnimate(t.getTarget("next"),!0);break;case"prev":case"previous":t.flexAnimate(t.getTarget("prev"),!0);break;default:"number"==typeof i&&t.flexAnimate(i,!0)}}}(jQuery),function(){function t(){}var e=t.prototype,o=this,i=o.EventEmitter;function r(t,e){for(var o=t.length;o--;)if(t[o].listener===e)return o;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}e.getListeners=function(t){var e,o,i=this._getEvents();if("object"===_typeof(t))for(o in e={},i)i.hasOwnProperty(o)&&t.test(o)&&(e[o]=i[o]);else e=i[t]||(i[t]=[]);return e},e.flattenListeners=function(t){for(var e=[],o=0;o<t.length;o+=1)e.push(t[o].listener);return e},e.getListenersAsObject=function(t){var e,o=this.getListeners(t);return o instanceof Array&&((e={})[t]=o),e||o},e.addListener=function(t,e){var o,i=this.getListenersAsObject(t),n="object"===_typeof(e);for(o in i)i.hasOwnProperty(o)&&-1===r(i[o],e)&&i[o].push(n?e:{listener:e,once:!1});return this},e.on=n("addListener"),e.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},e.once=n("addOnceListener"),e.defineEvent=function(t){return this.getListeners(t),this},e.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},e.removeListener=function(t,e){var o,i,n=this.getListenersAsObject(t);for(i in n)n.hasOwnProperty(i)&&-1!==(o=r(n[i],e))&&n[i].splice(o,1);return this},e.off=n("removeListener"),e.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},e.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},e.manipulateListeners=function(t,e,o){var i,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!==_typeof(e)||e instanceof RegExp)for(i=o.length;i--;)r.call(this,e,o[i]);else for(i in e)e.hasOwnProperty(i)&&(n=e[i])&&("function"==typeof n?r.call(this,i,n):s.call(this,i,n));return this},e.removeEvent=function(t){var e,o=_typeof(t),i=this._getEvents();if("string"===o)delete i[t];else if("object"===o)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},e.removeAllListeners=n("removeEvent"),e.emitEvent=function(t,e){var o,i,n,r=this.getListenersAsObject(t);for(n in r)if(r.hasOwnProperty(n))for(i=r[n].length;i--;)!0===(o=r[n][i]).once&&this.removeListener(t,o.listener),o.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,o.listener);return this},e.trigger=n("emitEvent"),e.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},e.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},e._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},e._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=i,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t:this.EventEmitter=t}.call(void 0),function(){var t=document.documentElement,e=function(){};function i(t){var e=(void 0).event;return e.target=e.target||e.srcElement||t,e}t.addEventListener?e=function(t,e,o){t.addEventListener(e,o,!1)}:t.attachEvent&&(e=function(e,t,o){e[t+o]=o.handleEvent?function(){var t=i(e);o.handleEvent.call(o,t)}:function(){var t=i(e);o.call(e,t)},e.attachEvent("on"+t,e[t+o])});var o=function(){};t.removeEventListener?o=function(t,e,o){t.removeEventListener(e,o,!1)}:t.detachEvent&&(o=function(e,o,i){e.detachEvent("on"+o,e[o+i]);try{delete e[o+i]}catch(t){e[o+i]=void 0}});var n={bind:e,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",n):(void 0).eventie=n}(),function(o,i){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(t,e){return i(o,t,e)}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=i(o,require("wolfy87-eventemitter"),require("eventie")):o.imagesLoaded=i(o,o.EventEmitter,o.eventie)}(window,function(t,e,o){var n=t.jQuery,s=t.console,a=void 0!==s;function r(t,e){for(var o in e)t[o]=e[o];return t}var l=Object.prototype.toString;function c(t){var e,o=[];if(e=t,"[object Array]"===l.call(e))o=t;else if("number"==typeof t.length)for(var i=0,n=t.length;i<n;i++)o.push(t[i]);else o.push(t);return o}function u(t,e,o){if(!(this instanceof u))return new u(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=c(t),this.options=r({},this.options),"function"==typeof e?o=e:r(this.options,e),o&&this.on("always",o),this.getImages(),n&&(this.jqDeferred=new n.Deferred);var i=this;setTimeout(function(){i.check()})}function i(t){this.img=t}(u.prototype=new e).options={},u.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;t<e;t++){var o=this.elements[t];"IMG"===o.nodeName&&this.addImage(o);var i=o.nodeType;if(i&&(1===i||9===i||11===i))for(var n=o.querySelectorAll("img"),r=0,s=n.length;r<s;r++){var a=n[r];this.addImage(a)}}},u.prototype.addImage=function(t){var e=new i(t);this.images.push(e)},u.prototype.check=function(){var o=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,n)for(var t=0;t<n;t++){var e=this.images[t];e.on("confirm",r),e.check()}else this.complete();function r(t,e){return o.options.debug&&a&&s.log("confirm",t,e),o.progress(t),++i===n&&o.complete(),!0}},u.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},u.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var o=this;setTimeout(function(){var t;o.emit(e,o),o.emit("always",o),o.jqDeferred&&(t=o.hasAnyBroken?"reject":"resolve",o.jqDeferred[t](o))})},n&&(n.fn.imagesLoaded=function(t,e){return new u(this,t,e).jqDeferred.promise(n(this))}),(i.prototype=new e).check=function(){var o,t=d[this.img.src]||new h(this.img.src);t.isConfirmed?this.confirm(t.isLoaded,"cached was confirmed"):this.img.complete&&void 0!==this.img.naturalWidth?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(o=this,t.on("confirm",function(t,e){return o.confirm(t.isLoaded,e),!0}),t.check())},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var d={};function h(t){this.src=t,d[t]=this}return(h.prototype=new e).check=function(){var t;this.isChecked||(t=new Image,o.bind(t,"load",this),o.bind(t,"error",this),t.src=this.src,this.isChecked=!0)},h.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},h.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},h.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},h.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},h.prototype.unbindProxyEvents=function(t){o.unbind(t.target,"load",this),o.unbind(t.target,"error",this)},u}),function(t){function e(){}function o(c){if(c){var u="undefined"==typeof console?e:function(t){console.error(t)};return c.bridget=function(t,e){var a,l,o;(o=e).prototype.option||(o.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),a=t,l=e,c.fn[a]=function(e){if("string"!=typeof e)return this.each(function(){var t=c.data(this,a);t?(t.option(e),t._init()):(t=new l(this,e),c.data(this,a,t))});for(var t=d.call(arguments,1),o=0,i=this.length;o<i;o++){var n=this[o],r=c.data(n,a);if(r)if(c.isFunction(r[e])&&"_"!==e.charAt(0)){var s=r[e].apply(r,t);if(void 0!==s)return s}else u("no such method '"+e+"' for "+a+" instance");else u("cannot call methods on "+a+" prior to initialization; attempted to call '"+e+"'")}return this}},c.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],o):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?o(require("jquery")):o(t.jQuery)}(window),function(){function i(t){var e=(void 0).event;return e.target=e.target||e.srcElement||t,e}var t=document.documentElement,e=function(){};t.addEventListener?e=function(t,e,o){t.addEventListener(e,o,!1)}:t.attachEvent&&(e=function(e,t,o){e[t+o]=o.handleEvent?function(){var t=i(e);o.handleEvent.call(o,t)}:function(){var t=i(e);o.call(e,t)},e.attachEvent("on"+t,e[t+o])});var o=function(){};t.removeEventListener?o=function(t,e,o){t.removeEventListener(e,o,!1)}:t.detachEvent&&(o=function(e,o,i){e.detachEvent("on"+o,e[o+i]);try{delete e[o+i]}catch(t){e[o+i]=void 0}});var n={bind:e,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",n):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=n:(void 0).eventie=n}(),function(e){function o(t){"function"==typeof t&&(o.isReady?t():s.push(t))}function i(t){var e="readystatechange"===t.type&&"complete"!==r.readyState;o.isReady||e||n()}function n(){o.isReady=!0;for(var t=0,e=s.length;t<e;t++){(0,s[t])()}}function t(t){return"complete"===r.readyState?n():(t.bind(r,"DOMContentLoaded",i),t.bind(r,"readystatechange",i),t.bind(e,"load",i)),o}var r=e.document,s=[];o.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],t):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(require("eventie")):e.docReady=t(e.eventie)}(window),function(){function t(){}function r(t,e){for(var o=t.length;o--;)if(t[o].listener===e)return o;return-1}function e(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,i=this,n=i.EventEmitter;o.getListeners=function(t){var e,o,i=this._getEvents();if(t instanceof RegExp)for(o in e={},i)i.hasOwnProperty(o)&&t.test(o)&&(e[o]=i[o]);else e=i[t]||(i[t]=[]);return e},o.flattenListeners=function(t){for(var e=[],o=0;t.length>o;o+=1)e.push(t[o].listener);return e},o.getListenersAsObject=function(t){var e,o=this.getListeners(t);return o instanceof Array&&((e={})[t]=o),e||o},o.addListener=function(t,e){var o,i=this.getListenersAsObject(t),n="object"==_typeof(e);for(o in i)i.hasOwnProperty(o)&&-1===r(i[o],e)&&i[o].push(n?e:{listener:e,once:!1});return this},o.on=e("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=e("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,e){var o,i,n=this.getListenersAsObject(t);for(i in n)n.hasOwnProperty(i)&&(-1!==(o=r(n[i],e))&&n[i].splice(o,1));return this},o.off=e("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,o){var i,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=_typeof(e)||e instanceof RegExp)for(i=o.length;i--;)r.call(this,e,o[i]);else for(i in e)e.hasOwnProperty(i)&&(n=e[i])&&("function"==typeof n?r.call(this,i,n):s.call(this,i,n));return this},o.removeEvent=function(t){var e,o=_typeof(t),i=this._getEvents();if("string"===o)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},o.removeAllListeners=e("removeEvent"),o.emitEvent=function(t,e){var o,i,n,r=this.getListenersAsObject(t);for(n in r)if(r.hasOwnProperty(n))for(i=r[n].length;i--;)!0===(o=r[n][i]).once&&this.removeListener(t,o.listener),o.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,o.listener);return this},o.trigger=e("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return i.EventEmitter=n,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t:i.EventEmitter=t}.call(void 0),function(t){function e(t){if(t){if("string"==typeof r[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,i=n.length;o<i;o++)if(e=n[o]+t,"string"==typeof r[e])return e}}var n="Webkit Moz ms Ms O".split(" "),r=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:t.getStyleProperty=e}(window),function(S){function T(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function t(r){function y(){var e,t,o,i,n;s||(s=!0,e=S.getComputedStyle,n=e?function(t){return e(t,null)}:function(t){return t.currentStyle},w=function(t){var e=n(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e},(b=r("boxSizing"))&&((t=document.createElement("div")).style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[b]="border-box",(o=document.body||document.documentElement).appendChild(t),i=w(t),x=200===T(i.width),o.removeChild(t)))}var w,b,x,s=!1;return function(t){if(y(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==_typeof(t)&&t.nodeType){var e=w(t);if("none"===e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,o=z.length;e<o;e++){t[z[e]]=0}return t}();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var i=o.isBorderBox=!(!b||!e[b]||"border-box"!==e[b]),n=0,r=z.length;n<r;n++){var s=z[n],a=function(t,e){if(S.getComputedStyle||-1===e.indexOf("%"))return e;var o=t.style,i=o.left,n=t.runtimeStyle,r=n&&n.left;return r&&(n.left=t.currentStyle.left),o.left=e,e=o.pixelLeft,o.left=i,r&&(n.left=r),e}(t,a=e[s]),l=parseFloat(a);o[s]=isNaN(l)?0:l}var c=o.paddingLeft+o.paddingRight,u=o.paddingTop+o.paddingBottom,d=o.marginLeft+o.marginRight,h=o.marginTop+o.marginBottom,p=o.borderLeftWidth+o.borderRightWidth,f=o.borderTopWidth+o.borderBottomWidth,m=i&&x,g=T(e.width);!1!==g&&(o.width=g+(m?0:c+p));var v=T(e.height);return!1!==v&&(o.height=v+(m?0:u+f)),o.innerWidth=o.width-(c+p),o.innerHeight=o.height-(u+f),o.outerWidth=o.width+d,o.outerHeight=o.height+h,o}}}var a="undefined"==typeof console?function(){}:function(t){console.error(t)},z=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],t):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(require("desandro-get-style-property")):S.getSize=t(S.getStyleProperty)}(window),function(n){function o(t,e){return t[i](e)}function r(t){t.parentNode||document.createDocumentFragment().appendChild(t)}var t,i=function(){if(n.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],e=0,o=t.length;e<o;e++){var i=t[e]+"MatchesSelector";if(n[i])return i}}();t=i?o(document.createElement("div"),"div")?o:function(t,e){return r(t),o(t,e)}:function(t,e){r(t);for(var o=t.parentNode.querySelectorAll(e),i=0,n=o.length;i<n;i++)if(o[i]===t)return!0;return!1},"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return t}):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t:window.matchesSelector=t}(Element.prototype),function(t){function e(t,e,r){function o(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var i=r("transition"),n=r("transform"),s=i&&n,a=!!r("perspective"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[i],c=["transform","transition","transitionDuration","transitionProperty"],u=function(){for(var t={},e=0,o=c.length;e<o;e++){var i=c[e],n=r(i);n&&n!==i&&(t[i]=n)}return t}();(function(t,e){for(var o in e)t[o]=e[o]})(o.prototype,t.prototype),o.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.getSize=function(){this.size=e(this.element)},o.prototype.css=function(t){var e=this.element.style;for(var o in t){e[u[o]||o]=t[o]}},o.prototype.getPosition=function(){var t=m(this.element),e=this.layout.options,o=e.isOriginLeft,i=e.isOriginTop,n=parseInt(t[o?"left":"right"],10),r=parseInt(t[i?"top":"bottom"],10),n=isNaN(n)?0:n,r=isNaN(r)?0:r,s=this.layout.size;n-=o?s.paddingLeft:s.paddingRight,r-=i?s.paddingTop:s.paddingBottom,this.position.x=n,this.position.y=r},o.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,o={};e.isOriginLeft?(o.left=this.position.x+t.paddingLeft+"px",o.right=""):(o.right=this.position.x+t.paddingRight+"px",o.left=""),e.isOriginTop?(o.top=this.position.y+t.paddingTop+"px",o.bottom=""):(o.bottom=this.position.y+t.paddingBottom+"px",o.top=""),this.css(o),this.emitEvent("layout",[this])};var d=a?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};o.prototype._transitionTo=function(t,e){this.getPosition();var o,i,n,r,s=this.position.x,a=this.position.y,l=parseInt(t,10),c=parseInt(e,10),u=l===this.position.x&&c===this.position.y;this.setPosition(t,e),!u||this.isTransitioning?(n=t-s,r=e-a,o={},n=(i=this.layout.options).isOriginLeft?n:-n,r=i.isOriginTop?r:-r,o.transform=d(n,r),this.transition({to:o,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})):this.layoutPosition()},o.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},o.prototype.moveTo=s?o.prototype._transitionTo:o.prototype.goTo,o.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},o.prototype._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},o.prototype._transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var o in t.onTransitionEnd)e.onEnd[o]=t.onTransitionEnd[o];for(o in t.to)e.ingProperties[o]=!0,t.isCleaning&&(e.clean[o]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var h=n&&n.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})+",opacity";o.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:h,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(l,this,!1))},o.prototype.transition=o.prototype[i?"_transition":"_nonTransition"],o.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},o.prototype.onotransitionend=function(t){this.ontransitionend(t)};var p={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};o.prototype.ontransitionend=function(t){var e,o;t.target===this.element&&(e=this._transn,o=p[t.propertyName]||t.propertyName,delete e.ingProperties[o],function(t){for(var e in t)return;return 1}(e.ingProperties)&&this.disableTransition(),o in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[o]),o in e.onEnd&&(e.onEnd[o].call(this),delete e.onEnd[o]),this.emitEvent("transitionEnd",[this]))},o.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},o.prototype._removeStyles=function(t){var e={};for(var o in t)e[o]="";this.css(e)};var f={transitionProperty:"",transitionDuration:""};return o.prototype.removeTransitionStyles=function(){this.css(f)},o.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},o.prototype.remove=function(){var t;i&&parseFloat(this.layout.options.transitionDuration)?((t=this).on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()):this.removeElem()},o.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},o.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},o.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o}var o=t.getComputedStyle,m=o?function(t){return o(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(t.Outlayer={},t.Outlayer.Item=e(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(l){function d(t,e){for(var o in e)t[o]=e[o];return t}function u(t){var e,o=[];if(e=t,"[object Array]"===r.call(e))o=t;else if(t&&"number"==typeof t.length)for(var i=0,n=t.length;i<n;i++)o.push(t[i]);else o.push(t);return o}function h(t,e){var o=i(e,t);-1!==o&&e.splice(o,1)}function t(t,e,o,n,c,i){function r(t,e){var o;"string"==typeof t&&(t=f.querySelector(t)),t&&v(t)?(this.element=t,this.options=d({},this.constructor.defaults),this.option(e),o=++s,this.element.outlayerGUID=o,(a[o]=this)._create(),this.options.isInitLayout&&this.layout()):m&&m.error("Bad "+this.constructor.namespace+" element: "+t)}var s=0,a={};return r.namespace="outlayer",r.Item=i,r.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},d(r.prototype,o.prototype),r.prototype.option=function(t){d(this.options,t)},r.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),d(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},r.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},r.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),o=this.constructor.Item,i=[],n=0,r=e.length;n<r;n++){var s=new o(e[n],this);i.push(s)}return i},r.prototype._filterFindItemElements=function(t){t=u(t);for(var e=this.options.itemSelector,o=[],i=0,n=t.length;i<n;i++){var r=t[i];if(v(r))if(e){c(r,e)&&o.push(r);for(var s=r.querySelectorAll(e),a=0,l=s.length;a<l;a++)o.push(s[a])}else o.push(r)}return o},r.prototype.getItemElements=function(){for(var t=[],e=0,o=this.items.length;e<o;e++)t.push(this.items[e].element);return t},r.prototype._init=r.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},r.prototype._resetLayout=function(){this.getSize()},r.prototype.getSize=function(){this.size=n(this.element)},r.prototype._getMeasurement=function(t,e){var o,i=this.options[t];i?("string"==typeof i?o=this.element.querySelector(i):v(i)&&(o=i),this[t]=o?n(o)[e]:i):this[t]=0},r.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},r.prototype._getItemsForLayout=function(t){for(var e=[],o=0,i=t.length;o<i;o++){var n=t[o];n.isIgnored||e.push(n)}return e},r.prototype._layoutItems=function(t,e){function o(){i.emitEvent("layoutComplete",[i,t])}var i=this;if(t&&t.length){this._itemsOn(t,"layout",o);for(var n=[],r=0,s=t.length;r<s;r++){var a=t[r],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=e||a.isLayoutInstant,n.push(l)}this._processLayoutQueue(n)}else o()},r.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},r.prototype._processLayoutQueue=function(t){for(var e=0,o=t.length;e<o;e++){var i=t[e];this._positionItem(i.item,i.x,i.y,i.isInstant)}},r.prototype._positionItem=function(t,e,o,i){i?t.goTo(e,o):t.moveTo(e,o)},r.prototype._postLayout=function(){this.resizeContainer()},r.prototype.resizeContainer=function(){var t;!this.options.isResizingContainer||(t=this._getContainerSize())&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},r.prototype._getContainerSize=p,r.prototype._setContainerMeasure=function(t,e){var o;void 0!==t&&((o=this.size).isBorderBox&&(t+=e?o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth:o.paddingBottom+o.paddingTop+o.borderTopWidth+o.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px")},r.prototype._itemsOn=function(t,e,o){function i(){return++n===r&&o.call(s),!0}for(var n=0,r=t.length,s=this,a=0,l=t.length;a<l;a++){t[a].on(e,i)}},r.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},r.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},r.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,o=t.length;e<o;e++){var i=t[e];this.ignore(i)}}},r.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,o=t.length;e<o;e++){var i=t[e];h(i,this.stamps),this.unignore(i)}},r.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=u(t)):void 0},r.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;t<e;t++){var o=this.stamps[t];this._manageStamp(o)}}},r.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},r.prototype._manageStamp=p,r.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),o=this._boundingRect,i=n(t);return{left:e.left-o.left-i.marginLeft,top:e.top-o.top-i.marginTop,right:o.right-e.right-i.marginRight,bottom:o.bottom-e.bottom-i.marginBottom}},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.bindResize=function(){this.isResizeBound||(t.bind(l,"resize",this),this.isResizeBound=!0)},r.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(l,"resize",this),this.isResizeBound=!1},r.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(function(){t.resize(),delete t.resizeTimeout},100)},r.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},r.prototype.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},r.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},r.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},r.prototype.prepended=function(t){var e,o=this._itemize(t);o.length&&(e=this.items.slice(0),this.items=o.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(o,!0),this.reveal(o),this.layoutItems(e))},r.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var o=0;o<e;o++){t[o].reveal()}},r.prototype.hide=function(t){var e=t&&t.length;if(e)for(var o=0;o<e;o++){t[o].hide()}},r.prototype.getItem=function(t){for(var e=0,o=this.items.length;e<o;e++){var i=this.items[e];if(i.element===t)return i}},r.prototype.getItems=function(t){if(t&&t.length){for(var e=[],o=0,i=t.length;o<i;o++){var n=t[o],r=this.getItem(n);r&&e.push(r)}return e}},r.prototype.remove=function(t){t=u(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var o=0,i=e.length;o<i;o++){var n=e[o];n.remove(),h(n,this.items)}}},r.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,o=this.items.length;e<o;e++){this.items[e].destroy()}this.unbindResize();var i=this.element.outlayerGUID;delete a[i],delete this.element.outlayerGUID,g&&g.removeData(this.element,this.constructor.namespace)},r.data=function(t){var e=t&&t.outlayerGUID;return e&&a[e]},r.create=function(c,t){function u(){r.apply(this,arguments)}return Object.create?u.prototype=Object.create(r.prototype):d(u.prototype,r.prototype),(u.prototype.constructor=u).defaults=d({},r.defaults),d(u.defaults,t),u.prototype.settings={},u.namespace=c,u.data=r.data,(u.Item=function(){i.apply(this,arguments)}).prototype=new i,e(function(){for(var t=c.replace(/(.)([A-Z])/g,function(t,e,o){return e+"-"+o}).toLowerCase(),e=f.querySelectorAll(".js-"+t),o="data-"+t+"-options",i=0,n=e.length;i<n;i++){var r,s=e[i],a=s.getAttribute(o);try{r=a&&JSON.parse(a)}catch(t){m&&m.error("Error parsing "+o+" on "+s.nodeName.toLowerCase()+(s.id?"#"+s.id:"")+": "+t);continue}var l=new u(s,r);g&&g.data(s,c,l)}}),g&&g.bridget&&g.bridget(c,u),u},r.Item=i,r}function p(){}var f=l.document,m=l.console,g=l.jQuery,r=Object.prototype.toString,v="function"==typeof HTMLElement||"object"==("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==_typeof(t)&&1===t.nodeType&&"string"==typeof t.nodeName},i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var o=0,i=t.length;o<i;o++)if(t[o]===e)return o;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],t):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):l.Outlayer=t(l.eventie,l.docReady,l.EventEmitter,l.getSize,l.matchesSelector,l.Outlayer.Item)}(window),function(t){function e(t){function e(){t.Item.apply(this,arguments)}(e.prototype=new t.Item)._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var o in t){var i=e[o];this.sortData[o]=i(this.element,this)}}};var o=e.prototype.destroy;return e.prototype.destroy=function(){o.apply(this,arguments),this.css({display:""})},e}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window),function(t){function e(e,n){function r(t){(this.isotope=t)&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){for(var t=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],e=0,o=t.length;e<o;e++){var i=t[e];r.prototype[i]=function(t){return function(){return n.prototype[t].apply(this.isotope,arguments)}}(i)}}(),r.prototype.needsVerticalResizeLayout=function(){var t=e(this.isotope.element);return this.isotope.size&&t&&t.innerHeight!==this.isotope.size.innerHeight},r.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},r.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},r.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},r.prototype.getSegmentSize=function(t,e){var o,i=t+e,n="outer"+e;this._getMeasurement(i,n),this[i]||(o=this.getFirstItemSize(),this[i]=o&&o[n]||this.isotope.size["inner"+e])},r.prototype.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},r.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},r.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},r.modes={},r.create=function(t,e){function o(){r.apply(this,arguments)}return o.prototype=new r,e&&(o.options=e),r.modes[o.prototype.namespace=t]=o},r}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window),function(t){function e(t,c){var e=t.create("masonry");return e.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},e.prototype.measureColumns=function(){var t,e;this.getContainerWidth(),this.columnWidth||(e=(t=this.items[0])&&t.element,this.columnWidth=e&&c(e).outerWidth||this.containerWidth),this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},e.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,e=c(t);this.containerWidth=e&&e.innerWidth},e.prototype._getItemLayoutPosition=function(t){t.getSize();for(var e=t.size.outerWidth%this.columnWidth,o=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth),o=Math.min(o,this.cols),i=this._getColGroup(o),n=Math.min.apply(Math,i),r=u(i,n),s={x:this.columnWidth*r,y:n},a=n+t.size.outerHeight,l=this.cols+1-i.length,c=0;c<l;c++)this.colYs[r+c]=a;return s},e.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],o=this.cols+1-t,i=0;i<o;i++){var n=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,n)}return e},e.prototype._manageStamp=function(t){var e=c(t),o=this._getElementOffset(t),i=this.options.isOriginLeft?o.left:o.right,n=i+e.outerWidth,r=Math.floor(i/this.columnWidth),r=Math.max(0,r),s=Math.floor(n/this.columnWidth);s-=n%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var a=(this.options.isOriginTop?o.top:o.bottom)+e.outerHeight,l=r;l<=s;l++)this.colYs[l]=Math.max(a,this.colYs[l])},e.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},e.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},e.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},e}var u=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var o=0,i=t.length;o<i;o++){if(t[o]===e)return o}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){function e(t,e){var o=t.create("masonry"),i=o.prototype._getElementOffset,n=o.prototype.layout,r=o.prototype._getMeasurement;(function(t,e){for(var o in e)t[o]=e[o]})(o.prototype,e.prototype),o.prototype._getElementOffset=i,o.prototype.layout=n,o.prototype._getMeasurement=r;var s=o.prototype.measureColumns;o.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,s.call(this)};var a=o.prototype._manageStamp;return o.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,a.apply(this,arguments)},o}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window),function(t){function e(t){var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,o=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>o&&(this.x=0,this.y=this.maxY);var i={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,i},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,o=this.y;return this.y+=t.size.outerHeight,{x:e,y:o}},e.prototype._getContainerSize=function(){return{height:this.y}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function h(t){var e,o=[];if(e=t,"[object Array]"===r.call(e))o=t;else if(t&&"number"==typeof t.length)for(var i=0,n=t.length;i<n;i++)o.push(t[i]);else o.push(t);return o}function e(i,t,o,e,n){var c=i.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});c.Item=e,c.LayoutMode=n,c.prototype._create=function(){for(var t in this.itemGUID=0,this._sorters={},this._getSorters(),i.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],n.modes)this._initLayoutMode(t)},c.prototype.reloadItems=function(){this.itemGUID=0,i.prototype.reloadItems.call(this)},c.prototype._itemize=function(){for(var t=i.prototype._itemize.apply(this,arguments),e=0,o=t.length;e<o;e++){t[e].id=this.itemGUID++}return this._updateItemsSortData(t),t},c.prototype._initLayoutMode=function(t){var e=n.modes[t],o=this.options[t]||{};this.options[t]=e.options?function(t,e){for(var o in e)t[o]=e[o];return t}(e.options,o):o,this.modes[t]=new e(this)},c.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},c.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},c.prototype.arrange=function(t){this.option(t),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},c.prototype._init=c.prototype.arrange,c.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t},c.prototype._filter=function(t){function e(){d.reveal(n),d.hide(r)}for(var o=(o=this.options.filter)||"*",i=[],n=[],r=[],s=this._getFilterTest(o),a=0,l=t.length;a<l;a++){var c,u=t[a];u.isIgnored||((c=s(u))&&i.push(u),c&&u.isHidden?n.push(u):c||u.isHidden||r.push(u))}var d=this;return this._isInstant?this._noTransition(e):e(),i},c.prototype._getFilterTest=function(e){return p&&this.options.isJQueryFiltering?function(t){return p(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return o(t.element,e)}},c.prototype.updateSortData=function(t){var e=t?(t=h(t),this.getItems(t)):this.items;this._getSorters(),this._updateItemsSortData(e)},c.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var o=t[e];this._sorters[e]=a(o)}},c.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,o=0;e&&o<e;o++){t[o].updateSortData()}};var r,s,a=function(t){if("string"!=typeof t)return t;var e,o,i=f(t).split(" "),n=i[0],r=n.match(/^\[(.+)\]$/),s=r&&r[1],a=(o=n,(e=s)?function(t){return t.getAttribute(e)}:function(t){var e=t.querySelector(o);return e&&m(e)}),l=c.sortDataParsers[i[1]];return l?function(t){return t&&l(a(t))}:function(t){return t&&a(t)}};function l(t){return r.apply(this,arguments)}function u(t){return s.apply(this,arguments)}c.sortDataParsers={parseInt:(s=function(t){return parseInt(t,10)},u.toString=function(){return s.toString()},u),parseFloat:(r=function(t){return parseFloat(t)},l.toString=function(){return r.toString()},l)},c.prototype._sort=function(){var t,e,a,l,o=this.options.sortBy;o&&(t=[].concat.apply(o,this.sortHistory),a=t,l=this.options.sortAscending,e=function(t,e){for(var o=0,i=a.length;o<i;o++){var n=a[o],r=t.sortData[n],s=e.sortData[n];if(s<r||r<s)return(s<r?1:-1)*((void 0!==l[n]?l[n]:l)?1:-1)}return 0},this.filteredItems.sort(e),o!==this.sortHistory[0]&&this.sortHistory.unshift(o))},c.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw Error("No layout mode: "+t);return e.options=this.options[t],e},c.prototype._resetLayout=function(){i.prototype._resetLayout.call(this),this._mode()._resetLayout()},c.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},c.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},c.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},c.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},c.prototype.appended=function(t){var e,o=this.addItems(t);o.length&&(e=this._filterRevealAdded(o),this.filteredItems=this.filteredItems.concat(e))},c.prototype.prepended=function(t){var e,o,i=this._itemize(t);i.length&&(e=this.items.slice(0),this.items=i.concat(e),this._resetLayout(),this._manageStamps(),o=this._filterRevealAdded(i),this.layoutItems(e),this.filteredItems=o.concat(this.filteredItems))},c.prototype._filterRevealAdded=function(t){var e=this._noTransition(function(){return this._filter(t)});return this.layoutItems(e,!0),this.reveal(e),t},c.prototype.insert=function(t){var e=this.addItems(t);if(e.length){for(var o,i=e.length,n=0;n<i;n++)o=e[n],this.element.appendChild(o.element);var r=this._filter(e);for(this._noTransition(function(){this.hide(r)}),n=0;n<i;n++)e[n].isLayoutInstant=!0;for(this.arrange(),n=0;n<i;n++)delete e[n].isLayoutInstant;this.reveal(r)}};var d=c.prototype.remove;return c.prototype.remove=function(t){t=h(t);var e,o,i,n=this.getItems(t);if(d.call(this,t),n&&n.length)for(var r=0,s=n.length;r<s;r++){var a=n[r];e=a,o=this.filteredItems,i=void 0,-1!==(i=g(o,e))&&o.splice(i,1)}},c.prototype.shuffle=function(){for(var t=0,e=this.items.length;t<e;t++){this.items[t].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},c.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var o=t.call(this);return this.options.transitionDuration=e,o},c.prototype.getFilteredItemElements=function(){for(var t=[],e=0,o=this.filteredItems.length;e<o;e++)t.push(this.filteredItems[e].element);return t},c}var p=t.jQuery,f=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},m=document.documentElement.textContent?function(t){return t.textContent}:function(t){return t.innerText},r=Object.prototype.toString,g=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var o=0,i=t.length;o<i;o++)if(t[o]===e)return o;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=e(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window),function(){var t,e,o,i,n=document.getElementById("site-navigation");if(n&&void 0!==(t=n.getElementsByTagName("button")[0]))if(void 0!==(e=n.getElementsByTagName("ul")[0])){e.setAttribute("aria-expanded","false"),-1===e.className.indexOf("nav-menu")&&(e.className+=" nav-menu"),t.onclick=function(){-1!==n.className.indexOf("toggled")?(n.className=n.className.replace(" toggled",""),t.setAttribute("aria-expanded","false"),e.setAttribute("aria-expanded","false")):(n.className+=" toggled",t.setAttribute("aria-expanded","true"),e.setAttribute("aria-expanded","true"))},o=e.getElementsByTagName("a");for(var r=0,s=(i=e.getElementsByTagName("ul")).length;r<s;r++)i[r].parentNode.setAttribute("aria-haspopup","true");for(r=0,s=o.length;r<s;r++)o[r].addEventListener("focus",a,!0),o[r].addEventListener("blur",a,!0)}else t.style.display="none";function a(){for(var t=this;-1===t.className.indexOf("nav-menu");)"li"===t.tagName.toLowerCase()&&(-1!==t.className.indexOf("focus")?t.className=t.className.replace(" focus",""):t.className+=" focus"),t=t.parentElement}}(),function(p){var t,f=!1,m=!1,g=5e3,l=2e3,v=0,y=0<(t=(t=document.getElementsByTagName("script"))[t.length-1].src.split("?")[0]).split("/").length?t.split("/").slice(0,-1).join("/")+"/":"";Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var o=0,i=this.length;o<i;++o)t.call(e,this[o],o,this)});var c=window.requestAnimationFrame||!1,u=window.cancelAnimationFrame||!1;["ms","moz","webkit","o"].forEach(function(t){c=c||window[t+"RequestAnimationFrame"],u=u||(window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"])});function n(t,e){function r(t,e,o){return e=t.css(e),t=parseFloat(e),isNaN(t)?(o=3==(t=a[e]||0)?o?d.win.outerHeight()-d.win.innerHeight():d.win.outerWidth()-d.win.innerWidth():1,d.isie8&&t&&(t+=1),o?t:0):t}function s(o,i,n,t){d._bind(o,i,function(t){var e={original:t=t||window.event,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},stopImmediatePropagation:function(){t.stopImmediatePropagation?t.stopImmediatePropagation():t.cancelBubble=!0}};return"mousewheel"==i?(e.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX)):e.deltaY=t.detail,n.call(o,e)},t)}function i(t,e,o){var i,n;if(0==t.deltaMode?(i=-Math.floor(t.deltaX*(d.opt.mousescrollstep/54)),n=-Math.floor(t.deltaY*(d.opt.mousescrollstep/54))):1==t.deltaMode&&(i=-Math.floor(t.deltaX*d.opt.mousescrollstep),n=-Math.floor(t.deltaY*d.opt.mousescrollstep)),e&&0==i&&n&&(i=n,n=0),i&&(d.scrollmom&&d.scrollmom.stop(),d.lastdeltax+=i,d.debounced("mousewheelx",function(){var t=d.lastdeltax;d.lastdeltax=0,d.rail.drag||d.doScrollLeftBy(t)},120)),n){if(d.opt.nativeparentscrolling&&o&&!d.ispage&&!d.zoomactive)if(n<0){if(d.getScrollTop()>=d.page.maxh)return!0}else if(d.getScrollTop()<=0)return!0;d.scrollmom&&d.scrollmom.stop(),d.lastdeltay+=n,d.debounced("mousewheely",function(){var t=d.lastdeltay;d.lastdeltay=0,d.rail.drag||d.doScrollBy(t)},120)}return t.stopImmediatePropagation(),t.preventDefault()}var d=this;if(this.version="3.4.0",this.name="nicescroll",this.me=e,this.opt={doc:p("body"),win:!1},p.extend(this.opt,b),this.opt.snapbackspeed=80,t)for(var o in d.opt)void 0!==t[o]&&(d.opt[o]=t[o]);for(this.iddoc=(this.doc=d.opt.doc)&&this.doc[0]&&this.doc[0].id||"",this.ispage=/BODY|HTML/.test(d.opt.win?d.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==d.opt.win,this.win=d.opt.win||(this.ispage?p(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?p(window):this.win,this.body=p("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=d.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;this.id="ascrail"+l++,document.getElementById(this.id););this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.overflowx=d.opt.overflowx,this.overflowy=d.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=function(){if(x)return x;var t=document.createElement("DIV"),e={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};e.isopera="opera"in window,e.isopera12=e.isopera&&"getUserMedia"in navigator,e.isie="all"in document&&"attachEvent"in t&&!e.isopera,e.isieold=e.isie&&!("msInterpolationMode"in t.style),e.isie7=e.isie&&!e.isieold&&(!("documentMode"in document)||7==document.documentMode),e.isie8=e.isie&&"documentMode"in document&&8==document.documentMode,e.isie9=e.isie&&"performance"in window&&9<=document.documentMode,e.isie10=e.isie&&"performance"in window&&10<=document.documentMode,e.isie9mobile=/iemobile.9/i.test(navigator.userAgent),e.isie9mobile&&(e.isie9=!1),e.isie7mobile=!e.isie9mobile&&e.isie7&&/iemobile/i.test(navigator.userAgent),e.ismozilla="MozAppearance"in t.style,e.iswebkit="WebkitAppearance"in t.style,e.ischrome="chrome"in window,e.ischrome22=e.ischrome&&e.haspointerlock,e.ischrome26=e.ischrome&&"transition"in t.style,e.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,e.hasmstouch=window.navigator.msPointerEnabled||!1,e.ismac=/^mac$/i.test(navigator.platform),e.isios=e.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),e.isios4=e.isios&&!("seal"in Object),e.isandroid=/android/i.test(navigator.userAgent),e.trstyle=!1,e.hastransform=!1,e.hastranslate3d=!1,e.transitionstyle=!1,e.hastransition=!1,e.transitionend=!1;for(var o=["transform","msTransform","webkitTransform","MozTransform","OTransform"],i=0;i<o.length;i++)if(void 0!==t.style[o[i]]){e.trstyle=o[i];break}e.hastransform=0!=e.trstyle,e.hastransform&&(t.style[e.trstyle]="translate3d(1px,2px,3px)",e.hastranslate3d=/translate3d/.test(t.style[e.trstyle])),e.transitionstyle=!1,e.prefixstyle="",e.transitionend=!1;for(var o="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),n=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),r="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),i=0;i<o.length;i++)if(o[i]in t.style){e.transitionstyle=o[i],e.prefixstyle=n[i],e.transitionend=r[i];break}e.ischrome26&&(e.prefixstyle=n[1]),e.hastransition=e.transitionstyle;t:{for(o=["-moz-grab","-webkit-grab","grab"],(e.ischrome&&!e.ischrome22||e.isie)&&(o=[]),i=0;i<o.length;i++)if(n=o[i],t.style.cursor=n,t.style.cursor==n){o=n;break t}o="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return e.cursorgrabvalue=o,e.hasmousecapture="setCapture"in t,e.hasMutationObserver=!1!==w,x=e}();var n,h=p.extend({},this.detected);this.ishwscroll=(this.canhwscroll=h.hastransform&&d.opt.hwacceleration)&&d.haswrapper,this.istouchcapable=!1,h.cantouch&&h.ischrome&&!h.isios&&!h.isandroid&&(this.istouchcapable=!0,h.cantouch=!1),h.cantouch&&h.ismozilla&&!h.isios&&(this.istouchcapable=!0,h.cantouch=!1),d.opt.enablemouselockapi||(h.hasmousecapture=!1,h.haspointerlock=!1),this.delayed=function(t,e,o,i){var n=d.delaylist[t],r=(new Date).getTime();if(!i&&n&&n.tt)return!1;n&&n.tt&&clearTimeout(n.tt),n&&n.last+o>r&&!n.tt?d.delaylist[t]={last:r+o,tt:setTimeout(function(){d.delaylist[t].tt=0,e.call()},o)}:n&&n.tt||(d.delaylist[t]={last:r,tt:0},setTimeout(function(){e.call()},0))},this.debounced=function(e,t,o){var i=d.delaylist[e];(new Date).getTime(),d.delaylist[e]=t,i||setTimeout(function(){var t=d.delaylist[e];d.delaylist[e]=!1,t.call()},o)},this.synched=function(e,t){return d.synclist[e]=t,d.onsync||(c(function(){for(e in d.onsync=!1,d.synclist){var t=d.synclist[e];t&&t.call(d),d.synclist[e]=!1}}),d.onsync=!0),e},this.unsynched=function(t){d.synclist[t]&&(d.synclist[t]=!1)},this.css=function(t,e){for(var o in e)d.saved.css.push([t,o,t.css(o)]),t.css(o,e[o])},this.scrollTop=function(t){return void 0===t?d.getScrollTop():d.setScrollTop(t)},this.scrollLeft=function(t){return void 0===t?d.getScrollLeft():d.setScrollLeft(t)},BezierClass=function(t,e,o,i,n,r,s){this.st=t,this.ed=e,this.spd=o,this.p1=i||0,this.p2=n||1,this.p3=r||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return t<0?this.ed:this.st+Math.round(this.df*e)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},h.hastranslate3d&&h.isios&&this.doc.css("-webkit-backface-visibility","hidden"),n=function(){var t=d.doc.css(h.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)},this.getScrollTop=function(t){if(!t){if(t=n())return 16==t.length?-t[13]:-t[5];if(d.timerscroll&&d.timerscroll.bz)return d.timerscroll.bz.getNow()}return d.doc.translate.y},this.getScrollLeft=function(t){if(!t){if(t=n())return 16==t.length?-t[12]:-t[4];if(d.timerscroll&&d.timerscroll.bh)return d.timerscroll.bh.getNow()}return d.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),t.dispatchEvent(e)}:document.fireEvent?function(t){var e=document.createEventObject();t.fireEvent("onscroll"),e.cancelBubble=!0}:function(t,e){},h.hastranslate3d&&d.opt.enabletranslate3d?(this.setScrollTop=function(t,e){d.doc.translate.y=t,d.doc.translate.ty=-1*t+"px",d.doc.css(h.trstyle,"translate3d("+d.doc.translate.tx+","+d.doc.translate.ty+",0px)"),e||d.notifyScrollEvent(d.win[0])},this.setScrollLeft=function(t,e){d.doc.translate.x=t,d.doc.translate.tx=-1*t+"px",d.doc.css(h.trstyle,"translate3d("+d.doc.translate.tx+","+d.doc.translate.ty+",0px)"),e||d.notifyScrollEvent(d.win[0])}):(this.setScrollTop=function(t,e){d.doc.translate.y=t,d.doc.translate.ty=-1*t+"px",d.doc.css(h.trstyle,"translate("+d.doc.translate.tx+","+d.doc.translate.ty+")"),e||d.notifyScrollEvent(d.win[0])},this.setScrollLeft=function(t,e){d.doc.translate.x=t,d.doc.translate.tx=-1*t+"px",d.doc.css(h.trstyle,"translate("+d.doc.translate.tx+","+d.doc.translate.ty+")"),e||d.notifyScrollEvent(d.win[0])})):(this.getScrollTop=function(){return d.docscroll.scrollTop()},this.setScrollTop=function(t){return d.docscroll.scrollTop(t)},this.getScrollLeft=function(){return d.docscroll.scrollLeft()},this.setScrollLeft=function(t){return d.docscroll.scrollLeft(t)}),this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var o=t.target||t.srcElement||t||!1;o&&o.id!=e;)o=o.parentNode||!1;return!1!==o};var a={thin:1,medium:3,thick:5};this.getOffset=function(){if(d.isfixed)return{top:parseFloat(d.win.css("top")),left:parseFloat(d.win.css("left"))};if(!d.viewport)return d.win.offset();var t=d.win.offset(),e=d.viewport.offset();return{top:t.top-e.top+d.viewport.scrollTop(),left:t.left-e.left+d.viewport.scrollLeft()}},this.updateScrollBar=function(t){var e,o,i,n;d.ishwscroll?(d.rail.css({height:d.win.innerHeight()}),d.railh&&d.railh.css({width:d.win.innerWidth()})):(o=(e=d.getOffset()).top,i=e.left,o+=r(d.win,"border-top-width",!0),d.win.outerWidth(),d.win.innerWidth(),i+=d.rail.align?d.win.outerWidth()-r(d.win,"border-right-width")-d.rail.width:r(d.win,"border-left-width"),(n=d.opt.railoffset)&&(n.top&&(o+=n.top),d.rail.align&&n.left&&(i+=n.left)),d.locked||d.rail.css({top:o,left:i,height:t?t.h:d.win.innerHeight()}),d.zoom&&d.zoom.css({top:o+1,left:1==d.rail.align?i-20:i+d.rail.width+4}),d.railh&&!d.locked&&(o=e.top,i=e.left,t=d.railh.align?o+r(d.win,"border-top-width",!0)+d.win.innerHeight()-d.railh.height:o+r(d.win,"border-top-width",!0),i+=r(d.win,"border-left-width"),d.railh.css({top:t,left:i,width:d.railh.width})))},this.doRailClick=function(t,e,o){var i;d.locked||(d.cancelEvent(t),e?(e=o?d.doScrollLeft:d.doScrollTop)(i=o?(t.pageX-d.railh.offset().left-d.cursorwidth/2)*d.scrollratio.x:(t.pageY-d.rail.offset().top-d.cursorheight/2)*d.scrollratio.y):(e=o?d.doScrollLeftBy:d.doScrollBy,i=o?d.scroll.x:d.scroll.y,t=o?t.pageX-d.railh.offset().left:t.pageY-d.rail.offset().top,o=o?d.view.w:d.view.h,e(t<=i?o:-o)))},d.hasanimationframe=c,d.hascancelanimationframe=u,d.hasanimationframe?d.hascancelanimationframe||(u=function(){d.cancelAnimationFrame=!0}):(c=function(t){return setTimeout(t,15-Math.floor(new Date/1e3)%16)},u=clearInterval),this.init=function(){if(d.saved.css=[],h.isie7mobile)return!0;if(h.hasmstouch&&d.css(d.ispage?p("html"):d.win,{"-ms-touch-action":"none"}),d.zindex="auto",d.zindex=d.ispage||"auto"!=d.opt.zindex?d.opt.zindex:function(){var t=d.win;if("zIndex"in t)return t.zIndex();for(;0<t.length&&9!=t[0].nodeType;){var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}()||"auto",!d.ispage&&"auto"!=d.zindex&&d.zindex>v&&(v=d.zindex),d.isie&&0==d.zindex&&"auto"==d.opt.zindex&&(d.zindex="auto"),!d.ispage||!h.cantouch&&!h.isieold&&!h.isie9mobile){var t=d.docscroll;d.ispage&&(t=d.haswrapper?d.win:d.doc),h.isie9mobile||d.css(t,{"overflow-y":"hidden"}),d.ispage&&h.isie7&&("BODY"==d.doc[0].nodeName?d.css(p("html"),{"overflow-y":"hidden"}):"HTML"==d.doc[0].nodeName&&d.css(p("body"),{"overflow-y":"hidden"})),!h.isios||d.ispage||d.haswrapper||d.css(p("body"),{"-webkit-overflow-scrolling":"touch"});var e=p(document.createElement("div"));e.css({position:"relative",top:0,float:"right",width:d.opt.cursorwidth,height:"0px","background-color":d.opt.cursorcolor,border:d.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":d.opt.cursorborderradius,"-moz-border-radius":d.opt.cursorborderradius,"border-radius":d.opt.cursorborderradius}),e.hborder=parseFloat(e.outerHeight()-e.innerHeight()),d.cursor=e;var o=p(document.createElement("div"));o.attr("id",d.id),o.addClass("nicescroll-rails");var i,n,r,s,u,a,l=["left","right"];for(r in l)n=l[r],(i=d.opt.railpadding[n])?o.css("padding-"+n,i+"px"):d.opt.railpadding[n]=0;o.append(e),o.width=Math.max(parseFloat(d.opt.cursorwidth),e.outerWidth())+d.opt.railpadding.left+d.opt.railpadding.right,o.css({width:o.width+"px",zIndex:d.zindex,background:d.opt.background,cursor:"default"}),o.visibility=!0,o.scrollable=!0,o.align="left"==d.opt.railalign?0:1,d.rail=o,e=d.rail.drag=!1,!d.opt.boxzoom||d.ispage||h.isieold||(e=document.createElement("div"),d.bind(e,"click",d.doZoom),d.zoom=p(e),d.zoom.css({cursor:"pointer","z-index":d.zindex,backgroundImage:"url("+y+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),d.opt.dblclickzoom&&d.bind(d.win,"dblclick",d.doZoom),h.cantouch&&d.opt.gesturezoom&&(d.ongesturezoom=function(t){return 1.5<t.scale&&d.doZoomIn(t),t.scale<.8&&d.doZoomOut(t),d.cancelEvent(t)},d.bind(d.win,"gestureend",d.ongesturezoom))),d.railh=!1,d.opt.horizrailenabled&&(d.css(t,{"overflow-x":"hidden"}),(e=p(document.createElement("div"))).css({position:"relative",top:0,height:d.opt.cursorwidth,width:"0px","background-color":d.opt.cursorcolor,border:d.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":d.opt.cursorborderradius,"-moz-border-radius":d.opt.cursorborderradius,"border-radius":d.opt.cursorborderradius}),e.wborder=parseFloat(e.outerWidth()-e.innerWidth()),d.cursorh=e,(s=p(document.createElement("div"))).attr("id",d.id+"-hr"),s.addClass("nicescroll-rails"),s.height=Math.max(parseFloat(d.opt.cursorwidth),e.outerHeight()),s.css({height:s.height+"px",zIndex:d.zindex,background:d.opt.background}),s.append(e),s.visibility=!0,s.scrollable=!0,s.align="top"==d.opt.railvalign?0:1,d.railh=s,d.railh.drag=!1),d.ispage?(o.css({position:"fixed",top:"0px",height:"100%"}),o.align?o.css({right:"0px"}):o.css({left:"0px"}),d.body.append(o),d.railh&&(s.css({position:"fixed",left:"0px",width:"100%"}),s.align?s.css({bottom:"0px"}):s.css({top:"0px"}),d.body.append(s))):(d.ishwscroll?("static"==d.win.css("position")&&d.css(d.win,{position:"relative"}),t="HTML"==d.win[0].nodeName?d.body:d.win,d.zoom&&(d.zoom.css({position:"absolute",top:1,right:0,"margin-right":o.width+4}),t.append(d.zoom)),o.css({position:"absolute",top:0}),o.align?o.css({right:0}):o.css({left:0}),t.append(o),s&&(s.css({position:"absolute",left:0,bottom:0}),s.align?s.css({bottom:0}):s.css({top:0}),t.append(s))):(d.isfixed="fixed"==d.win.css("position"),t=d.isfixed?"fixed":"absolute",d.isfixed||(d.viewport=d.getViewport(d.win[0])),d.viewport&&(d.body=d.viewport,0==/relative|absolute/.test(d.viewport.css("position"))&&d.css(d.viewport,{position:"relative"})),o.css({position:t}),d.zoom&&d.zoom.css({position:t}),d.updateScrollBar(),d.body.append(o),d.zoom&&d.body.append(d.zoom),d.railh&&(s.css({position:t}),d.body.append(s))),h.isios&&d.css(d.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),h.isie&&d.opt.disableoutline&&d.win.attr("hideFocus","true"),h.iswebkit&&d.opt.disableoutline&&d.win.css({outline:"none"})),!1===d.opt.autohidemode?(d.autohidedom=!1,d.rail.css({opacity:d.opt.cursoropacitymax}),d.railh&&d.railh.css({opacity:d.opt.cursoropacitymax})):!0===d.opt.autohidemode?(d.autohidedom=p().add(d.rail),h.isie8&&(d.autohidedom=d.autohidedom.add(d.cursor)),d.railh&&(d.autohidedom=d.autohidedom.add(d.railh)),d.railh&&h.isie8&&(d.autohidedom=d.autohidedom.add(d.cursorh))):"scroll"==d.opt.autohidemode?(d.autohidedom=p().add(d.rail),d.railh&&(d.autohidedom=d.autohidedom.add(d.railh))):"cursor"==d.opt.autohidemode?(d.autohidedom=p().add(d.cursor),d.railh&&(d.autohidedom=d.autohidedom.add(d.cursorh))):"hidden"==d.opt.autohidemode&&(d.autohidedom=!1,d.hide(),d.locked=!1),h.isie9mobile?(d.scrollmom=new S(d),d.onmangotouch=function(t){t=d.getScrollTop();var e=d.getScrollLeft();if(t==d.scrollmom.lastscrolly&&e==d.scrollmom.lastscrollx)return!0;var o,i,n,r=t-d.mangotouch.sy,s=e-d.mangotouch.sx;0!=Math.round(Math.sqrt(Math.pow(s,2)+Math.pow(r,2)))&&(o=r<0?-1:1,i=s<0?-1:1,n=+new Date,d.mangotouch.lazy&&clearTimeout(d.mangotouch.lazy),80<n-d.mangotouch.tm||d.mangotouch.dry!=o||d.mangotouch.drx!=i?(d.scrollmom.stop(),d.scrollmom.reset(e,t),d.mangotouch.sy=t,d.mangotouch.ly=t,d.mangotouch.sx=e,d.mangotouch.lx=e,d.mangotouch.dry=o,d.mangotouch.drx=i,d.mangotouch.tm=n):(d.scrollmom.stop(),d.scrollmom.update(d.mangotouch.sx-s,d.mangotouch.sy-r),d.mangotouch.tm=n,r=Math.max(Math.abs(d.mangotouch.ly-t),Math.abs(d.mangotouch.lx-e)),d.mangotouch.ly=t,d.mangotouch.lx=e,2<r&&(d.mangotouch.lazy=setTimeout(function(){d.mangotouch.lazy=!1,d.mangotouch.dry=0,d.mangotouch.drx=0,d.mangotouch.tm=0,d.scrollmom.doMomentum(30)},100))))},o=d.getScrollTop(),s=d.getScrollLeft(),d.mangotouch={sy:o,ly:o,dry:0,sx:s,lx:s,drx:0,lazy:!1,tm:0},d.bind(d.docscroll,"scroll",d.onmangotouch)):((h.cantouch||d.istouchcapable||d.opt.touchbehavior||h.hasmstouch)&&(d.scrollmom=new S(d),d.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType)return!1;if(!d.locked){if(h.hasmstouch)for(var e=!!t.target&&t.target;e;){if(0<(r=p(e).getNiceScroll()).length&&r[0].me==d.me)break;if(0<r.length)return!1;if("DIV"==e.nodeName&&e.id==d.id)break;e=!!e.parentNode&&e.parentNode}if(d.cancelScroll(),(e=d.getTarget(t))&&/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return d.stopPropagation(t);var o,i,n,r;if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),d.forcescreen&&((t={original:(r=t).original?t.original:t}).clientX=r.screenX,t.clientY=r.screenY),d.rail.drag={x:t.clientX,y:t.clientY,sx:d.scroll.x,sy:d.scroll.y,st:d.getScrollTop(),sl:d.getScrollLeft(),pt:2,dl:!1},d.ispage||!d.opt.directionlockdeadzone?d.rail.drag.dl="f":(r=p(window).width(),n=p(window).height(),o=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),i=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),n=Math.max(0,i-n),r=Math.max(0,o-r),d.rail.drag.ck=!d.rail.scrollable&&d.railh.scrollable?0<n&&"v":!(!d.rail.scrollable||d.railh.scrollable)&&(0<r&&"h"),d.rail.drag.ck||(d.rail.drag.dl="f")),d.opt.touchbehavior&&d.isiframe&&h.isie&&(r=d.win.position(),d.rail.drag.x+=r.left,d.rail.drag.y+=r.top),d.hasmoving=!1,d.lastmouseup=!1,d.scrollmom.reset(t.clientX,t.clientY),!h.cantouch&&!this.istouchcapable&&!h.hasmstouch){if(!e||!/INPUT|SELECT|TEXTAREA/i.test(e.nodeName))return!d.ispage&&h.hasmousecapture&&e.setCapture(),d.cancelEvent(t);/SUBMIT|CANCEL|BUTTON/i.test(p(e).attr("type"))&&(pc={tg:e,click:!1},d.preventclick=pc)}}},d.ontouchend=function(t){return(!t.pointerType||2==t.pointerType)&&(d.rail.drag&&2==d.rail.drag.pt&&(d.scrollmom.doMomentum(),d.rail.drag=!1,d.hasmoving&&(d.hasmoving=!1,d.lastmouseup=!0,d.hideCursor(),h.hasmousecapture&&document.releaseCapture(),!h.cantouch))?d.cancelEvent(t):void 0)},u=d.opt.touchbehavior&&d.isiframe&&!h.hasmousecapture,d.ontouchmove=function(t,e){if(t.pointerType&&2!=t.pointerType)return!1;if(d.rail.drag&&2==d.rail.drag.pt){if(h.cantouch&&void 0===t.original)return!0;var o;d.hasmoving=!0,d.preventclick&&!d.preventclick.click&&(d.preventclick.click=d.preventclick.tg.onclick||!1,d.preventclick.tg.onclick=d.onpreventclick),"changedTouches"in(t=p.extend({original:t},t))&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),d.forcescreen&&((t={original:(o=t).original?t.original:t}).clientX=o.screenX,t.clientY=o.screenY),o=ofy=0,u&&!e&&(o=-(r=d.win.position()).left,ofy=-r.top);var i,n=t.clientY+ofy,r=n-d.rail.drag.y,s=t.clientX+o,a=s-d.rail.drag.x,l=d.rail.drag.st-r;if(d.ishwscroll&&d.opt.bouncescroll?l<0?l=Math.round(l/2):l>d.page.maxh&&(l=d.page.maxh+Math.round((l-d.page.maxh)/2)):(l<0&&(n=l=0),l>d.page.maxh&&(l=d.page.maxh,n=0)),d.railh&&d.railh.scrollable&&(i=d.rail.drag.sl-a,d.ishwscroll&&d.opt.bouncescroll?i<0?i=Math.round(i/2):i>d.page.maxw&&(i=d.page.maxw+Math.round((i-d.page.maxw)/2)):(i<0&&(s=i=0),i>d.page.maxw&&(i=d.page.maxw,s=0))),o=!1,d.rail.drag.dl)o=!0,"v"==d.rail.drag.dl?i=d.rail.drag.sl:"h"==d.rail.drag.dl&&(l=d.rail.drag.st);else{var r=Math.abs(r),a=Math.abs(a),c=d.opt.directionlockdeadzone;if("v"==d.rail.drag.ck){if(c<r&&a<=.3*r)return!(d.rail.drag=!1);c<a&&(d.rail.drag.dl="f",p("body").scrollTop(p("body").scrollTop()))}else if("h"==d.rail.drag.ck){if(c<a&&r<=.3*az)return!(d.rail.drag=!1);c<r&&(d.rail.drag.dl="f",p("body").scrollLeft(p("body").scrollLeft()))}}if(d.synched("touchmove",function(){d.rail.drag&&2==d.rail.drag.pt&&(d.prepareTransition&&d.prepareTransition(0),d.rail.scrollable&&d.setScrollTop(l),d.scrollmom.update(s,n),d.railh&&d.railh.scrollable?(d.setScrollLeft(i),d.showCursor(l,i)):d.showCursor(l),h.isie10&&document.selection.clear())}),h.ischrome&&d.istouchcapable&&(o=!1),o)return d.cancelEvent(t)}}),d.onmousedown=function(t,e){if(!d.rail.drag||1==d.rail.drag.pt){if(d.locked)return d.cancelEvent(t);d.cancelScroll(),d.rail.drag={x:t.clientX,y:t.clientY,sx:d.scroll.x,sy:d.scroll.y,pt:1,hr:!!e};var o=d.getTarget(t);return!d.ispage&&h.hasmousecapture&&o.setCapture(),d.isiframe&&!h.hasmousecapture&&(d.saved.csspointerevents=d.doc.css("pointer-events"),d.css(d.doc,{"pointer-events":"none"})),d.cancelEvent(t)}},d.onmouseup=function(t){if(d.rail.drag&&(h.hasmousecapture&&document.releaseCapture(),d.isiframe&&!h.hasmousecapture&&d.doc.css("pointer-events",d.saved.csspointerevents),1==d.rail.drag.pt))return d.rail.drag=!1,d.cancelEvent(t)},d.onmousemove=function(t){var e;if(d.rail.drag&&1==d.rail.drag.pt)return h.ischrome&&0==t.which?d.onmouseup(t):(d.cursorfreezed=!0,d.rail.drag.hr?(d.scroll.x=d.rail.drag.sx+(t.clientX-d.rail.drag.x),d.scroll.x<0&&(d.scroll.x=0),e=d.scrollvaluemaxw,d.scroll.x>e&&(d.scroll.x=e)):(d.scroll.y=d.rail.drag.sy+(t.clientY-d.rail.drag.y),d.scroll.y<0&&(d.scroll.y=0),e=d.scrollvaluemax,d.scroll.y>e&&(d.scroll.y=e)),d.synched("mousemove",function(){d.rail.drag&&1==d.rail.drag.pt&&(d.showCursor(),d.rail.drag.hr?d.doScrollLeft(Math.round(d.scroll.x*d.scrollratio.x),d.opt.cursordragspeed):d.doScrollTop(Math.round(d.scroll.y*d.scrollratio.y),d.opt.cursordragspeed))}),d.cancelEvent(t))},h.cantouch||d.opt.touchbehavior?(d.onpreventclick=function(t){if(d.preventclick)return d.preventclick.tg.onclick=d.preventclick.click,d.preventclick=!1,d.cancelEvent(t)},d.bind(d.win,"mousedown",d.ontouchstart),d.onclick=!h.isios&&function(t){return!d.lastmouseup||(d.lastmouseup=!1,d.cancelEvent(t))},d.opt.grabcursorenabled&&h.cursorgrabvalue&&(d.css(d.ispage?d.doc:d.win,{cursor:h.cursorgrabvalue}),d.css(d.rail,{cursor:h.cursorgrabvalue}))):(d.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},d.onselectionstart=function(t){d.ispage||(d.selectiondrag=d.win.offset())},d.onselectionend=function(t){d.selectiondrag=!1},d.onselectiondrag=function(t){d.selectiondrag&&d.hasTextSelected()&&d.debounced("selectionscroll",function(){!function t(e){var o;d.selectiondrag&&(e&&(o=d.win.outerHeight(),0<(e=e.pageY-d.selectiondrag.top)&&e<o&&(e=0),o<=e&&(e-=o),d.selectiondrag.df=e),0!=d.selectiondrag.df&&(d.doScrollBy(2*-Math.floor(d.selectiondrag.df/6)),d.debounced("doselectionscroll",function(){t()},50)))}(t)},250)}),h.hasmstouch&&(d.css(d.rail,{"-ms-touch-action":"none"}),d.css(d.cursor,{"-ms-touch-action":"none"}),d.bind(d.win,"MSPointerDown",d.ontouchstart),d.bind(document,"MSPointerUp",d.ontouchend),d.bind(document,"MSPointerMove",d.ontouchmove),d.bind(d.cursor,"MSGestureHold",function(t){t.preventDefault()}),d.bind(d.cursor,"contextmenu",function(t){t.preventDefault()})),this.istouchcapable&&(d.bind(d.win,"touchstart",d.ontouchstart),d.bind(document,"touchend",d.ontouchend),d.bind(document,"touchcancel",d.ontouchend),d.bind(document,"touchmove",d.ontouchmove)),d.bind(d.cursor,"mousedown",d.onmousedown),d.bind(d.cursor,"mouseup",d.onmouseup),d.railh&&(d.bind(d.cursorh,"mousedown",function(t){d.onmousedown(t,!0)}),d.bind(d.cursorh,"mouseup",function(t){if(!d.rail.drag||2!=d.rail.drag.pt)return d.rail.drag=!1,d.hasmoving=!1,d.hideCursor(),h.hasmousecapture&&document.releaseCapture(),d.cancelEvent(t)})),!d.opt.cursordragontouch&&(h.cantouch||d.opt.touchbehavior)||(d.rail.css({cursor:"default"}),d.railh&&d.railh.css({cursor:"default"}),d.jqbind(d.rail,"mouseenter",function(){d.canshowonmouseevent&&d.showCursor(),d.rail.active=!0}),d.jqbind(d.rail,"mouseleave",function(){d.rail.active=!1,d.rail.drag||d.hideCursor()}),d.opt.sensitiverail&&(d.bind(d.rail,"click",function(t){d.doRailClick(t,!1,!1)}),d.bind(d.rail,"dblclick",function(t){d.doRailClick(t,!0,!1)}),d.bind(d.cursor,"click",function(t){d.cancelEvent(t)}),d.bind(d.cursor,"dblclick",function(t){d.cancelEvent(t)})),d.railh&&(d.jqbind(d.railh,"mouseenter",function(){d.canshowonmouseevent&&d.showCursor(),d.rail.active=!0}),d.jqbind(d.railh,"mouseleave",function(){d.rail.active=!1,d.rail.drag||d.hideCursor()}),d.opt.sensitiverail&&(d.bind(d.railh,"click",function(t){d.doRailClick(t,!1,!0)}),d.bind(d.railh,"dblclick",function(t){d.doRailClick(t,!0,!0)}),d.bind(d.cursorh,"click",function(t){d.cancelEvent(t)}),d.bind(d.cursorh,"dblclick",function(t){d.cancelEvent(t)})))),h.cantouch||d.opt.touchbehavior?(d.bind(h.hasmousecapture?d.win:document,"mouseup",d.ontouchend),d.bind(document,"mousemove",d.ontouchmove),d.onclick&&d.bind(document,"click",d.onclick),d.opt.cursordragontouch&&(d.bind(d.cursor,"mousedown",d.onmousedown),d.bind(d.cursor,"mousemove",d.onmousemove),d.cursorh&&d.bind(d.cursorh,"mousedown",d.onmousedown),d.cursorh&&d.bind(d.cursorh,"mousemove",d.onmousemove))):(d.bind(h.hasmousecapture?d.win:document,"mouseup",d.onmouseup),d.bind(document,"mousemove",d.onmousemove),d.onclick&&d.bind(document,"click",d.onclick),!d.ispage&&d.opt.enablescrollonselection&&(d.bind(d.win[0],"mousedown",d.onselectionstart),d.bind(document,"mouseup",d.onselectionend),d.bind(d.cursor,"mouseup",d.onselectionend),d.cursorh&&d.bind(d.cursorh,"mouseup",d.onselectionend),d.bind(document,"mousemove",d.onselectiondrag)),d.zoom&&(d.jqbind(d.zoom,"mouseenter",function(){d.canshowonmouseevent&&d.showCursor(),d.rail.active=!0}),d.jqbind(d.zoom,"mouseleave",function(){d.rail.active=!1,d.rail.drag||d.hideCursor()}))),d.opt.enablemousewheel&&(d.isiframe||d.bind(h.isie&&d.ispage?document:d.docscroll,"mousewheel",d.onmousewheel),d.bind(d.rail,"mousewheel",d.onmousewheel),d.railh&&d.bind(d.railh,"mousewheel",d.onmousewheelhr)),d.ispage||h.cantouch||/HTML|BODY/.test(d.win[0].nodeName)||(d.win.attr("tabindex")||d.win.attr({tabindex:g++}),d.jqbind(d.win,"focus",function(t){f=d.getTarget(t).id||!0,d.hasfocus=!0,d.canshowonmouseevent&&d.noticeCursor()}),d.jqbind(d.win,"blur",function(t){f=!1,d.hasfocus=!1}),d.jqbind(d.win,"mouseenter",function(t){m=d.getTarget(t).id||!0,d.hasmousefocus=!0,d.canshowonmouseevent&&d.noticeCursor()}),d.jqbind(d.win,"mouseleave",function(){m=!1,d.hasmousefocus=!1}))),d.onkeypress=function(t){if(d.locked&&0==d.page.maxh)return!0;t=t||window.e;var e=d.getTarget(t);if(e&&/INPUT|TEXTAREA|SELECT|OPTION/.test(e.nodeName)&&(!e.getAttribute("type")&&!e.type||!/submit|button|cancel/i.tp))return!0;if(d.hasfocus||d.hasmousefocus&&!f||d.ispage&&!f&&!m){if(e=t.keyCode,d.locked&&27!=e)return d.cancelEvent(t);var o=t.ctrlKey||!1,i=t.shiftKey||!1,n=!1;switch(e){case 38:case 63233:d.doScrollBy(72),n=!0;break;case 40:case 63235:d.doScrollBy(-72),n=!0;break;case 37:case 63232:d.railh&&(o?d.doScrollLeft(0):d.doScrollLeftBy(72),n=!0);break;case 39:case 63234:d.railh&&(o?d.doScrollLeft(d.page.maxw):d.doScrollLeftBy(-72),n=!0);break;case 33:case 63276:d.doScrollBy(d.view.h),n=!0;break;case 34:case 63277:d.doScrollBy(-d.view.h),n=!0;break;case 36:case 63273:d.railh&&o?d.doScrollPos(0,0):d.doScrollTo(0),n=!0;break;case 35:case 63275:d.railh&&o?d.doScrollPos(d.page.maxw,d.page.maxh):d.doScrollTo(d.page.maxh),n=!0;break;case 32:d.opt.spacebarenabled&&(i?d.doScrollBy(d.view.h):d.doScrollBy(-d.view.h),n=!0);break;case 27:d.zoomactive&&(d.doZoom(),n=!0)}if(n)return d.cancelEvent(t)}},d.opt.enablekeyboard&&d.bind(document,h.isopera&&!h.isopera12?"keypress":"keydown",d.onkeypress),d.bind(window,"resize",d.lazyResize),d.bind(window,"orientationchange",d.lazyResize),d.bind(window,"load",d.lazyResize),!h.ischrome||d.ispage||d.haswrapper||(a=d.win.attr("style"),o=parseFloat(d.win.css("width"))+1,d.win.css("width",o),d.synched("chromefix",function(){d.win.attr("style",a)})),d.onAttributeChange=function(t){d.lazyResize(250)},d.ispage||d.haswrapper||(!1!==w?(d.observer=new w(function(t){t.forEach(d.onAttributeChange)}),d.observer.observe(d.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),d.observerremover=new w(function(t){t.forEach(function(t){if(0<t.removedNodes.length)for(var e in t.removedNodes)if(t.removedNodes[e]==d.win[0])return d.remove()})}),d.observerremover.observe(d.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(d.bind(d.win,h.isie&&!h.isie9?"propertychange":"DOMAttrModified",d.onAttributeChange),h.isie9&&d.win[0].attachEvent("onpropertychange",d.onAttributeChange),d.bind(d.win,"DOMNodeRemoved",function(t){t.target==d.win[0]&&d.remove()}))),!d.ispage&&d.opt.boxzoom&&d.bind(window,"resize",d.resizeZoom),d.istextarea&&d.bind(d.win,"mouseup",d.lazyResize),d.checkrtlmode=!0,d.lazyResize(30)}var c;"IFRAME"==this.doc[0].nodeName&&(c=function(t){d.iframexd=!1;try{var e="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(t){e=!(d.iframexd=!0)}if(d.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;d.forcescreen=!0,d.isiframe&&(d.iframe={doc:p(e),html:d.doc.contents().find("html")[0],body:d.doc.contents().find("body")[0]},d.getContentSize=function(){return{w:Math.max(d.iframe.html.scrollWidth,d.iframe.body.scrollWidth),h:Math.max(d.iframe.html.scrollHeight,d.iframe.body.scrollHeight)}},d.docscroll=p(d.iframe.body)),h.isios||!d.opt.iframeautoresize||d.isiframe||(d.win.scrollTop(0),d.doc.height(""),t=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight),d.doc.height(t)),d.lazyResize(30),h.isie7&&d.css(p(d.iframe.html),{"overflow-y":"hidden"}),d.css(p(d.iframe.body),{"overflow-y":"hidden"}),"contentWindow"in this?d.bind(this.contentWindow,"scroll",d.onscroll):d.bind(e,"scroll",d.onscroll),d.opt.enablemousewheel&&d.bind(e,"mousewheel",d.onmousewheel),d.opt.enablekeyboard&&d.bind(e,h.isopera?"keypress":"keydown",d.onkeypress),(h.cantouch||d.opt.touchbehavior)&&(d.bind(e,"mousedown",d.onmousedown),d.bind(e,"mousemove",function(t){d.onmousemove(t,!0)}),d.opt.grabcursorenabled&&h.cursorgrabvalue&&d.css(p(e.body),{cursor:h.cursorgrabvalue})),d.bind(e,"mouseup",d.onmouseup),d.zoom&&(d.opt.dblclickzoom&&d.bind(e,"dblclick",d.doZoom),d.ongesturezoom&&d.bind(e,"gestureend",d.ongesturezoom))},this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){c.call(d.doc[0],!1)},500),d.bind(this.doc,"load",c))},this.showCursor=function(t,e){d.cursortimeout&&(clearTimeout(d.cursortimeout),d.cursortimeout=0),d.rail&&(d.autohidedom&&(d.autohidedom.stop().css({opacity:d.opt.cursoropacitymax}),d.cursoractive=!0),d.rail.drag&&1==d.rail.drag.pt||(void 0!==t&&!1!==t&&(d.scroll.y=Math.round(t/d.scrollratio.y)),void 0!==e&&(d.scroll.x=Math.round(e/d.scrollratio.x))),d.cursor.css({height:d.cursorheight,top:d.scroll.y}),d.cursorh&&(!d.rail.align&&d.rail.visibility?d.cursorh.css({width:d.cursorwidth,left:d.scroll.x+d.rail.width}):d.cursorh.css({width:d.cursorwidth,left:d.scroll.x}),d.cursoractive=!0),d.zoom&&d.zoom.stop().css({opacity:d.opt.cursoropacitymax}))},this.hideCursor=function(t){!d.cursortimeout&&d.rail&&d.autohidedom&&(d.cursortimeout=setTimeout(function(){d.rail.active&&d.showonmouseevent||(d.autohidedom.stop().animate({opacity:d.opt.cursoropacitymin}),d.zoom&&d.zoom.stop().animate({opacity:d.opt.cursoropacitymin}),d.cursoractive=!1),d.cursortimeout=0},t||d.opt.hidecursordelay))},this.noticeCursor=function(t,e,o){d.showCursor(e,o),d.rail.active||d.hideCursor(t)},this.getContentSize=d.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:d.haswrapper?function(){return{w:d.doc.outerWidth()+parseInt(d.win.css("paddingLeft"))+parseInt(d.win.css("paddingRight")),h:d.doc.outerHeight()+parseInt(d.win.css("paddingTop"))+parseInt(d.win.css("paddingBottom"))}}:function(){return{w:d.docscroll[0].scrollWidth,h:d.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!d.win)return!1;if(!d.haswrapper&&!d.ispage){if("none"==d.win.css("display"))return d.visibility&&d.hideRail().hideRailHr(),!1;d.hidden||d.visibility||d.showRail().showRailHr()}var o=d.page.maxh,i=d.page.maxw,n=d.view.w;if(d.view={w:d.ispage?d.win.width():parseInt(d.win[0].clientWidth),h:d.ispage?d.win.height():parseInt(d.win[0].clientHeight)},d.page=e||d.getContentSize(),d.page.maxh=Math.max(0,d.page.h-d.view.h),d.page.maxw=Math.max(0,d.page.w-d.view.w),d.page.maxh==o&&d.page.maxw==i&&d.view.w==n){if(d.ispage)return d;if(o=d.win.offset(),d.lastposition&&((i=d.lastposition).top==o.top&&i.left==o.left))return d;d.lastposition=o}return 0==d.page.maxh?(d.hideRail(),d.scrollvaluemax=0,d.scroll.y=0,d.scrollratio.y=0,d.cursorheight=0,d.setScrollTop(0),d.rail.scrollable=!1):d.rail.scrollable=!0,0==d.page.maxw?(d.hideRailHr(),d.scrollvaluemaxw=0,d.scroll.x=0,d.scrollratio.x=0,d.cursorwidth=0,d.setScrollLeft(0),d.railh.scrollable=!1):d.railh.scrollable=!0,d.locked=0==d.page.maxh&&0==d.page.maxw,d.locked?(d.ispage||d.updateScrollBar(d.view),!1):(d.hidden||d.visibility?d.hidden||d.railh.visibility||d.showRailHr():d.showRail().showRailHr(),d.istextarea&&d.win.css("resize")&&"none"!=d.win.css("resize")&&(d.view.h-=20),d.cursorheight=Math.min(d.view.h,Math.round(d.view.h*(d.view.h/d.page.h))),d.cursorheight=d.opt.cursorfixedheight?d.opt.cursorfixedheight:Math.max(d.opt.cursorminheight,d.cursorheight),d.cursorwidth=Math.min(d.view.w,Math.round(d.view.w*(d.view.w/d.page.w))),d.cursorwidth=d.opt.cursorfixedheight?d.opt.cursorfixedheight:Math.max(d.opt.cursorminheight,d.cursorwidth),d.scrollvaluemax=d.view.h-d.cursorheight-d.cursor.hborder,d.railh&&(d.railh.width=0<d.page.maxh?d.view.w-d.rail.width:d.view.w,d.scrollvaluemaxw=d.railh.width-d.cursorwidth-d.cursorh.wborder),d.checkrtlmode&&d.railh&&(d.checkrtlmode=!1,d.opt.rtlmode&&0==d.scroll.x&&d.setScrollLeft(d.page.maxw)),d.ispage||d.updateScrollBar(d.view),d.scrollratio={x:d.page.maxw/d.scrollvaluemaxw,y:d.page.maxh/d.scrollvaluemax},d.getScrollTop()>d.page.maxh?d.doScrollTop(d.page.maxh):(d.scroll.y=Math.round(d.getScrollTop()*(1/d.scrollratio.y)),d.scroll.x=Math.round(d.getScrollLeft()*(1/d.scrollratio.x)),d.cursoractive&&d.noticeCursor()),d.scroll.y&&0==d.getScrollTop()&&d.doScrollTo(Math.floor(d.scroll.y*d.scrollratio.y)),d)},this.resize=d.onResize,this.lazyResize=function(t){return t=isNaN(t)?30:t,d.delayed("resize",d.resize,t),d},this._bind=function(t,e,o,i){d.events.push({e:t,n:e,f:o,b:i,q:!1}),t.addEventListener?t.addEventListener(e,o,i||!1):t.attachEvent?t.attachEvent("on"+e,o):t["on"+e]=o},this.jqbind=function(t,e,o){d.events.push({e:t,n:e,f:o,q:!0}),p(t).bind(e,o)},this.bind=function(t,e,o,i){var n="jquery"in t?t[0]:t;"mousewheel"==e?"onwheel"in d.win?d._bind(n,"wheel",o,i||!1):(t=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",s(n,t,o,i||!1),"DOMMouseScroll"==t&&s(n,"MozMousePixelScroll",o,i||!1)):n.addEventListener?(h.cantouch&&/mouseup|mousedown|mousemove/.test(e)&&d._bind(n,"mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove",function(t){var e;t.touches?t.touches.length<2&&((e=t.touches.length?t.touches[0]:t).original=t,o.call(this,e)):t.changedTouches&&((e=t.changedTouches[0]).original=t,o.call(this,e))},i||!1),d._bind(n,e,o,i||!1),h.cantouch&&"mouseup"==e&&d._bind(n,"touchcancel",o,i||!1)):d._bind(n,e,function(t){return(t=t||window.event||!1)&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),!1!==o.call(n,t)&&!1!==i||d.cancelEvent(t)})},this._unbind=function(t,e,o,i){t.removeEventListener?t.removeEventListener(e,o,i):t.detachEvent?t.detachEvent("on"+e,o):t["on"+e]=!1},this.unbindAll=function(){for(var t=0;t<d.events.length;t++){var e=d.events[t];e.q?e.e.unbind(e.n,e.f):d._unbind(e.e,e.n,e.f,e.b)}},this.cancelEvent=function(t){return!!(t=t.original?t.original:t||(window.event||!1))&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1)},this.stopPropagation=function(t){return!!(t=t.original?t.original:t||(window.event||!1))&&(t.stopPropagation?t.stopPropagation():(t.cancelBubble&&(t.cancelBubble=!0),!1))},this.showRail=function(){return 0==d.page.maxh||!d.ispage&&"none"==d.win.css("display")||(d.visibility=!0,d.rail.visibility=!0,d.rail.css("display","block")),d},this.showRailHr=function(){return d.railh&&(0==d.page.maxw||!d.ispage&&"none"==d.win.css("display")||(d.railh.visibility=!0,d.railh.css("display","block"))),d},this.hideRail=function(){return d.visibility=!1,d.rail.visibility=!1,d.rail.css("display","none"),d},this.hideRailHr=function(){return d.railh&&(d.railh.visibility=!1,d.railh.css("display","none")),d},this.show=function(){return d.hidden=!1,d.locked=!1,d.showRail().showRailHr()},this.hide=function(){return d.hidden=!0,d.locked=!0,d.hideRail().hideRailHr()},this.toggle=function(){return d.hidden?d.show():d.hide()},this.remove=function(){d.stop(),d.cursortimeout&&clearTimeout(d.cursortimeout),d.doZoomOut(),d.unbindAll(),!1!==d.observer&&d.observer.disconnect(),!1!==d.observerremover&&d.observerremover.disconnect(),d.events=[],d.cursor&&(d.cursor.remove(),d.cursor=null),d.cursorh&&(d.cursorh.remove(),d.cursorh=null),d.rail&&(d.rail.remove(),d.rail=null),d.railh&&(d.railh.remove(),d.railh=null),d.zoom&&(d.zoom.remove(),d.zoom=null);for(var t=0;t<d.saved.css.length;t++){var e=d.saved.css[t];e[0].css(e[1],void 0===e[2]?"":e[2])}return d.saved=!1,d.me.data("__nicescroll",""),d.me=null,d.doc=null,d.docscroll=null,d.win=null,d},this.scrollstart=function(t){return this.onscrollstart=t,d},this.scrollend=function(t){return this.onscrollend=t,d},this.scrollcancel=function(t){return this.onscrollcancel=t,d},this.zoomin=function(t){return this.onzoomin=t,d},this.zoomout=function(t){return this.onzoomout=t,d},this.isScrollable=function(t){if("OPTION"==(t=t.target?t.target:t).nodeName)return!0;for(;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var e=(e=p(t)).css("overflowY")||e.css("overflowX")||e.css("overflow")||"";if(/scroll|auto/.test(e))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(t){for(t=!(!t||!t.parentNode)&&t.parentNode;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var e=p(t),o=e.css("overflowY")||e.css("overflowX")||e.css("overflow")||"";if(/scroll|auto/.test(o)&&t.clientHeight!=t.scrollHeight||0<e.getNiceScroll().length)return e;t=!!t.parentNode&&t.parentNode}return!1},this.onmousewheel=function(t){if(d.locked)return!0;if(d.rail.drag)return d.cancelEvent(t);if(!d.rail.scrollable)return!d.railh||!d.railh.scrollable||d.onmousewheelhr(t);var e=+new Date,o=!1;return d.opt.preservenativescrolling&&d.checkarea+600<e&&(d.nativescrollingarea=d.isScrollable(t),o=!0),d.checkarea=e,!!d.nativescrollingarea||((t=i(t,!1,o))&&(d.checkarea=0),t)},this.onmousewheelhr=function(t){if(d.locked||!d.railh.scrollable)return!0;if(d.rail.drag)return d.cancelEvent(t);var e=+new Date,o=!1;return d.opt.preservenativescrolling&&d.checkarea+600<e&&(d.nativescrollingarea=d.isScrollable(t),o=!0),d.checkarea=e,!!d.nativescrollingarea||(d.locked?d.cancelEvent(t):i(t,!0,o))},this.stop=function(){return d.cancelScroll(),d.scrollmon&&d.scrollmon.stop(),d.cursorfreezed=!1,d.scroll.y=Math.round(d.getScrollTop()*(1/d.scrollratio.y)),d.noticeCursor(),d},this.getTransitionSpeed=function(t){var e=Math.round(10*d.opt.scrollspeed);return 20<(t=Math.min(e,Math.round(t/20*d.opt.scrollspeed)))?t:0},d.opt.smoothscroll?d.ishwscroll&&h.hastransition&&d.opt.usetransition?(this.prepareTransition=function(t,e){var o=e?20<t?t:0:d.getTransitionSpeed(t),i=o?h.prefixstyle+"transform "+o+"ms ease-out":"";return d.lasttransitionstyle&&d.lasttransitionstyle==i||(d.lasttransitionstyle=i,d.doc.css(h.transitionstyle,i)),o},this.doScrollLeft=function(t,e){var o=d.scrollrunning?d.newscrolly:d.getScrollTop();d.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=d.scrollrunning?d.newscrollx:d.getScrollLeft();d.doScrollPos(o,t,e)},this.doScrollPos=function(n,r,t){var e=d.getScrollTop(),o=d.getScrollLeft();return((d.newscrolly-e)*(r-e)<0||(d.newscrollx-o)*(n-o)<0)&&d.cancelScroll(),0==d.opt.bouncescroll&&(r<0?r=0:r>d.page.maxh&&(r=d.page.maxh),n<0?n=0:n>d.page.maxw&&(n=d.page.maxw)),(!d.scrollrunning||n!=d.newscrollx||r!=d.newscrolly)&&(d.newscrolly=r,d.newscrollx=n,d.newscrollspeed=t||!1,!d.timer&&void(d.timer=setTimeout(function(){var t=d.getScrollTop(),e=d.getScrollLeft(),o=n-e,i=r-t;o=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2))),o=d.newscrollspeed&&1<d.newscrollspeed?d.newscrollspeed:d.getTransitionSpeed(o),d.newscrollspeed&&d.newscrollspeed<=1&&(o*=d.newscrollspeed),d.prepareTransition(o,!0),d.timerscroll&&d.timerscroll.tm&&clearInterval(d.timerscroll.tm),0<o&&(!d.scrollrunning&&d.onscrollstart&&d.onscrollstart.call(d,{type:"scrollstart",current:{x:e,y:t},request:{x:n,y:r},end:{x:d.newscrollx,y:d.newscrolly},speed:o}),h.transitionend?d.scrollendtrapped||(d.scrollendtrapped=!0,d.bind(d.doc,h.transitionend,d.onScrollEnd,!1)):(d.scrollendtrapped&&clearTimeout(d.scrollendtrapped),d.scrollendtrapped=setTimeout(d.onScrollEnd,o)),d.timerscroll={bz:new BezierClass(t,d.newscrolly,o,0,0,.58,1),bh:new BezierClass(e,d.newscrollx,o,0,0,.58,1)},d.cursorfreezed||(d.timerscroll.tm=setInterval(function(){d.showCursor(d.getScrollTop(),d.getScrollLeft())},60))),d.synched("doScroll-set",function(){d.timer=0,d.scrollendtrapped&&(d.scrollrunning=!0),d.setScrollTop(d.newscrolly),d.setScrollLeft(d.newscrollx),d.scrollendtrapped||d.onScrollEnd()})},50)))},this.cancelScroll=function(){if(!d.scrollendtrapped)return!0;var t=d.getScrollTop(),e=d.getScrollLeft();return d.scrollrunning=!1,h.transitionend||clearTimeout(h.transitionend),d.scrollendtrapped=!1,d._unbind(d.doc,h.transitionend,d.onScrollEnd),d.prepareTransition(0),d.setScrollTop(t),d.railh&&d.setScrollLeft(e),d.timerscroll&&d.timerscroll.tm&&clearInterval(d.timerscroll.tm),d.timerscroll=!1,d.cursorfreezed=!1,d.showCursor(t,e),d},this.onScrollEnd=function(){d.scrollendtrapped&&d._unbind(d.doc,h.transitionend,d.onScrollEnd),d.scrollendtrapped=!1,d.prepareTransition(0),d.timerscroll&&d.timerscroll.tm&&clearInterval(d.timerscroll.tm),d.timerscroll=!1;var t=d.getScrollTop(),e=d.getScrollLeft();if(d.setScrollTop(t),d.railh&&d.setScrollLeft(e),d.noticeCursor(!1,t,e),d.cursorfreezed=!1,t<0?t=0:t>d.page.maxh&&(t=d.page.maxh),e<0?e=0:e>d.page.maxw&&(e=d.page.maxw),t!=d.newscrolly||e!=d.newscrollx)return d.doScrollPos(e,t,d.opt.snapbackspeed);d.onscrollend&&d.scrollrunning&&d.onscrollend.call(d,{type:"scrollend",current:{x:e,y:t},end:{x:d.newscrollx,y:d.newscrolly}}),d.scrollrunning=!1}):(this.doScrollLeft=function(t,e){var o=d.scrollrunning?d.newscrolly:d.getScrollTop();d.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=d.scrollrunning?d.newscrollx:d.getScrollLeft();d.doScrollPos(o,t,e)},this.doScrollPos=function(t,e,o){if(e=void 0===e||!1===e?d.getScrollTop(!0):e,d.timer&&d.newscrolly==e&&d.newscrollx==t)return!0;d.timer&&u(d.timer),d.timer=0;var i=d.getScrollTop(),n=d.getScrollLeft();((d.newscrolly-i)*(e-i)<0||(d.newscrollx-n)*(t-n)<0)&&d.cancelScroll(),d.newscrolly=e,d.newscrollx=t,d.bouncescroll&&d.rail.visibility||(d.newscrolly<0?d.newscrolly=0:d.newscrolly>d.page.maxh&&(d.newscrolly=d.page.maxh)),d.bouncescroll&&d.railh.visibility||(d.newscrollx<0?d.newscrollx=0:d.newscrollx>d.page.maxw&&(d.newscrollx=d.page.maxw)),d.dst={},d.dst.x=t-n,d.dst.y=e-i,d.dst.px=n,d.dst.py=i;var r=Math.round(Math.sqrt(Math.pow(d.dst.x,2)+Math.pow(d.dst.y,2)));d.dst.ax=d.dst.x/r,d.dst.ay=d.dst.y/r;var s,a=0,l=r;0==d.dst.x?(a=i,l=e,d.dst.ay=1,d.dst.py=0):0==d.dst.y&&(a=n,l=t,d.dst.ax=1,d.dst.px=0),r=d.getTransitionSpeed(r),o&&o<=1&&(r*=o),d.bzscroll=0<r&&(d.bzscroll?d.bzscroll.update(l,r):new BezierClass(a,l,r,0,1,0,1)),d.timer||((i==d.page.maxh&&e>=d.page.maxh||n==d.page.maxw&&t>=d.page.maxw)&&d.checkContentSize(),s=1,d.cancelAnimationFrame=!1,d.timer=1,d.onscrollstart&&!d.scrollrunning&&d.onscrollstart.call(d,{type:"scrollstart",current:{x:n,y:i},request:{x:t,y:e},end:{x:d.newscrollx,y:d.newscrolly},speed:r}),function t(){if(d.cancelAnimationFrame)return!0;if(d.scrollrunning=!0,s=1-s)return d.timer=c(t)||1;var e,o=0,i=sy=d.getScrollTop();d.dst.ay?(((e=(i=d.bzscroll?d.dst.py+d.bzscroll.getNow()*d.dst.ay:d.newscrolly)-sy)<0&&i<d.newscrolly||0<e&&i>d.newscrolly)&&(i=d.newscrolly),d.setScrollTop(i),i==d.newscrolly&&(o=1)):o=1;var n=sx=d.getScrollLeft();d.dst.ax?(((e=(n=d.bzscroll?d.dst.px+d.bzscroll.getNow()*d.dst.ax:d.newscrollx)-sx)<0&&n<d.newscrollx||0<e&&n>d.newscrollx)&&(n=d.newscrollx),d.setScrollLeft(n),n==d.newscrollx&&(o+=1)):o+=1,2==o?(d.timer=0,d.cursorfreezed=!1,d.bzscroll=!1,d.scrollrunning=!1,i<0?i=0:i>d.page.maxh&&(i=d.page.maxh),n<0?n=0:n>d.page.maxw&&(n=d.page.maxw),n!=d.newscrollx||i!=d.newscrolly?d.doScrollPos(n,i):d.onscrollend&&d.onscrollend.call(d,{type:"scrollend",current:{x:sx,y:sy},end:{x:d.newscrollx,y:d.newscrolly}})):d.timer=c(t)||1}(),(i==d.page.maxh&&i<=e||n==d.page.maxw&&n<=t)&&d.checkContentSize(),d.noticeCursor())},this.cancelScroll=function(){return d.timer&&u(d.timer),d.timer=0,d.bzscroll=!1,d.scrollrunning=!1,d}):(this.doScrollLeft=function(t,e){var o=d.getScrollTop();d.doScrollPos(t,o,e)},this.doScrollTop=function(t,e){var o=d.getScrollLeft();d.doScrollPos(o,t,e)},this.doScrollPos=function(t,e,o){var i=t>d.page.maxw?d.page.maxw:t;i<0&&(i=0);var n=e>d.page.maxh?d.page.maxh:e;n<0&&(n=0),d.synched("scroll",function(){d.setScrollTop(n),d.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var o,i=0,i=e?Math.floor((d.scroll.y-t)*d.scrollratio.y):(d.timer?d.newscrolly:d.getScrollTop(!0))-t;return d.bouncescroll&&(i<-(o=Math.round(d.view.h/2))?i=-o:i>d.page.maxh+o&&(i=d.page.maxh+o)),d.cursorfreezed=!1,py=d.getScrollTop(!0),i<0&&py<=0?d.noticeCursor():i>d.page.maxh&&py>=d.page.maxh?(d.checkContentSize(),d.noticeCursor()):void d.doScrollTop(i)},this.doScrollLeftBy=function(t,e){var o,i=0,i=e?Math.floor((d.scroll.x-t)*d.scrollratio.x):(d.timer?d.newscrollx:d.getScrollLeft(!0))-t;if(d.bouncescroll&&(i<-(o=Math.round(d.view.w/2))?i=-o:i>d.page.maxw+o&&(i=d.page.maxw+o)),d.cursorfreezed=!1,px=d.getScrollLeft(!0),i<0&&px<=0||i>d.page.maxw&&px>=d.page.maxw)return d.noticeCursor();d.doScrollLeft(i)},this.doScrollTo=function(t,e){e&&Math.round(t*d.scrollratio.y),d.cursorfreezed=!1,d.doScrollTop(t)},this.checkContentSize=function(){var t=d.getContentSize();t.h==d.page.h&&t.w==d.page.w||d.resize(!1,t)},d.onscroll=function(t){d.rail.drag||d.cursorfreezed||d.synched("scroll",function(){d.scroll.y=Math.round(d.getScrollTop()*(1/d.scrollratio.y)),d.railh&&(d.scroll.x=Math.round(d.getScrollLeft()*(1/d.scrollratio.x))),d.noticeCursor()})},d.bind(d.docscroll,"scroll",d.onscroll),this.doZoomIn=function(t){if(!d.zoomactive){d.zoomactive=!0,d.zoomrestore={style:{}};var e,o="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),i=d.win[0].style;for(e in o){var n=o[e];d.zoomrestore.style[n]=void 0!==i[n]?i[n]:""}return d.zoomrestore.style.width=d.win.css("width"),d.zoomrestore.style.height=d.win.css("height"),d.zoomrestore.padding={w:d.win.outerWidth()-d.win.width(),h:d.win.outerHeight()-d.win.height()},h.isios4&&(d.zoomrestore.scrollTop=p(window).scrollTop(),p(window).scrollTop(0)),d.win.css({position:h.isios4?"absolute":"fixed",top:0,left:0,"z-index":v+100,margin:"0px"}),""!=(o=d.win.css("backgroundColor"))&&!/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(o)||d.win.css("backgroundColor","#fff"),d.rail.css({"z-index":v+101}),d.zoom.css({"z-index":v+102}),d.zoom.css("backgroundPosition","0px -18px"),d.resizeZoom(),d.onzoomin&&d.onzoomin.call(d),d.cancelEvent(t)}},this.doZoomOut=function(t){if(d.zoomactive)return d.zoomactive=!1,d.win.css("margin",""),d.win.css(d.zoomrestore.style),h.isios4&&p(window).scrollTop(d.zoomrestore.scrollTop),d.rail.css({"z-index":d.zindex}),d.zoom.css({"z-index":d.zindex}),d.zoomrestore=!1,d.zoom.css("backgroundPosition","0px 0px"),d.onResize(),d.onzoomout&&d.onzoomout.call(d),d.cancelEvent(t)},this.doZoom=function(t){return d.zoomactive?d.doZoomOut(t):d.doZoomIn(t)},this.resizeZoom=function(){var t;d.zoomactive&&(t=d.getScrollTop(),d.win.css({width:p(window).width()-d.zoomrestore.padding.w+"px",height:p(window).height()-d.zoomrestore.padding.h+"px"}),d.onResize(),d.setScrollTop(Math.min(d.page.maxh,t)))},this.init(),p.nicescroll.push(this)}var w=window.MutationObserver||window.WebKitMutationObserver||!1,b={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1},x=!1,S=function(t){var c=this;this.nc=t,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(t,e){c.stop();var o=c.time();c.steptime=0,c.lasttime=o,c.speedx=0,c.speedy=0,c.lastx=t,c.lasty=e,c.lastscrollx=-1,c.lastscrolly=-1},this.update=function(t,e){var o=c.time();c.steptime=o-c.lasttime,c.lasttime=o;var o=e-c.lasty,i=t-c.lastx,n=(n=c.nc.getScrollTop())+o,r=(r=c.nc.getScrollLeft())+i;c.snapx=r<0||r>c.nc.page.maxw,c.snapy=n<0||n>c.nc.page.maxh,c.speedx=i,c.speedy=o,c.lastx=t,c.lasty=e},this.stop=function(){c.nc.unsynched("domomentum2d"),c.timer&&clearTimeout(c.timer),c.timer=0,c.lastscrollx=-1,c.lastscrolly=-1},this.doSnapy=function(t,e){var o=!1;e<0?o=!(e=0):e>c.nc.page.maxh&&(e=c.nc.page.maxh,o=!0),t<0?o=!(t=0):t>c.nc.page.maxw&&(t=c.nc.page.maxw,o=!0),o&&c.nc.doScrollPos(t,e,c.nc.opt.snapbackspeed)},this.doMomentum=function(t){var o=c.time(),e=t?o+t:c.lasttime;t=c.nc.getScrollLeft();var i,n,r,s=c.nc.getScrollTop(),a=c.nc.page.maxh,l=c.nc.page.maxw;c.speedx=0<l?Math.min(60,c.speedx):0,c.speedy=0<a?Math.min(60,c.speedy):0,e=s<0||a<s||t<0||l<t?!1:e&&o-e<=50,t=!(!c.speedx||!e)&&c.speedx,c.speedy&&e&&c.speedy||t?(50<(i=Math.max(16,c.steptime))&&(t=i/50,c.speedx*=t,c.speedy*=t,i=50),c.demulxy=0,c.lastscrollx=c.nc.getScrollLeft(),c.chkx=c.lastscrollx,c.lastscrolly=c.nc.getScrollTop(),c.chky=c.lastscrolly,n=c.lastscrollx,r=c.lastscrolly,function t(){var e=600<c.time()-o?.04:.02;c.speedx&&(n=Math.floor(c.lastscrollx-c.speedx*(1-c.demulxy)),(c.lastscrollx=n)<0||l<n)&&(e=.1),c.speedy&&(r=Math.floor(c.lastscrolly-c.speedy*(1-c.demulxy)),(c.lastscrolly=r)<0||a<r)&&(e=.1),c.demulxy=Math.min(1,c.demulxy+e),c.nc.synched("domomentum2d",function(){c.speedx&&(c.nc.getScrollLeft()!=c.chkx&&c.stop(),c.chkx=n,c.nc.setScrollLeft(n)),c.speedy&&(c.nc.getScrollTop()!=c.chky&&c.stop(),c.chky=r,c.nc.setScrollTop(r)),c.timer||(c.nc.hideCursor(),c.doSnapy(n,r))}),c.demulxy<1?c.timer=setTimeout(t,i):(c.stop(),c.nc.hideCursor(),c.doSnapy(n,r))}()):c.doSnapy(c.nc.getScrollLeft(),c.nc.getScrollTop())}},i=p.fn.scrollTop;p.cssHooks.pageYOffset={get:function(t,e){return(e=p.data(t,"__nicescroll")||!1)&&e.ishwscroll?e.getScrollTop():i.call(t)},set:function(t,e){var o=p.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(e)):i.call(t,e),this}},p.fn.scrollTop=function(e){if(void 0!==e)return this.each(function(){var t=p.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):i.call(p(this),e)});var t=this[0]&&p.data(this[0],"__nicescroll")||!1;return t&&t.ishwscroll?t.getScrollTop():i.call(this)};var r=p.fn.scrollLeft;p.cssHooks.pageXOffset={get:function(t,e){return(e=p.data(t,"__nicescroll")||!1)&&e.ishwscroll?e.getScrollLeft():r.call(t)},set:function(t,e){var o=p.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(e)):r.call(t,e),this}},p.fn.scrollLeft=function(e){if(void 0!==e)return this.each(function(){var t=p.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):r.call(p(this),e)});var t=this[0]&&p.data(this[0],"__nicescroll")||!1;return t&&t.ishwscroll?t.getScrollLeft():r.call(this)};function s(t){var o=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){for(var e=0;e<o.length;e++)t.call(o[e]);return o},this.push=function(t){o[o.length]=t,o.length++},this.eq=function(t){return o[t]},t)for(a=0;a<t.length;a++){var e=p.data(t[a],"__nicescroll")||!1;e&&(this[this.length]=e,this.length++)}return this}!function(t,e){for(var o=0;o<e.length;o++)!function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}(t,e[o])}(s.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" ")),p.fn.getNiceScroll=function(t){return void 0===t?new s(this):p.data(this[t],"__nicescroll")||!1},p.extend(p.expr[":"],{nicescroll:function(t){return!!p.data(t,"__nicescroll")}}),p.fn.niceScroll=function(t,e){void 0!==e||"object"!=_typeof(t)||"jquery"in t||(e=t,t=!1);var o=new s;void 0===e&&(e={}),t&&(e.doc=p(t),e.win=p(this));var i=!("doc"in e);return i||"win"in e||(e.win=p(this)),this.each(function(){var t=p(this).data("__nicescroll")||!1;t||(e.doc=i?p(this):e.doc,t=new n(e,p(this)),p(this).data("__nicescroll",t)),o.push(t)}),1==o.length?o[0]:o},window.NiceScroll={getjQuery:function(){return p}},p.nicescroll||(p.nicescroll=new s,p.nicescroll.options=b)}(jQuery),function(){var t=-1<navigator.userAgent.toLowerCase().indexOf("webkit"),e=-1<navigator.userAgent.toLowerCase().indexOf("opera"),o=-1<navigator.userAgent.toLowerCase().indexOf("msie");(t||e||o)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1)}(),function(){function e(t,e){return function(){return t.apply(e,arguments)}}var i,t,o,l,n,s=[].indexOf||function(t){for(var e=0,o=this.length;e<o;e++)if(e in this&&this[e]===t)return e;return-1};function r(t){null==t&&(t={}),this.scrollCallback=e(this.scrollCallback,this),this.scrollHandler=e(this.scrollHandler,this),this.start=e(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),this.animationNameCache=new o}function a(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}function c(){this.keys=[],this.values=[]}function u(){}u.prototype.extend=function(t,e){var o,i;for(o in e)i=e[o],null==t[o]&&(t[o]=i);return t},u.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},u.prototype.addEvent=function(t,e,o){return null!=t.addEventListener?t.addEventListener(e,o,!1):null!=t.attachEvent?t.attachEvent("on"+e,o):t[e]=o},u.prototype.removeEvent=function(t,e,o){return null!=t.removeEventListener?t.removeEventListener(e,o,!1):null!=t.detachEvent?t.detachEvent("on"+e,o):delete t[e]},u.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t=u,o=this.WeakMap||this.MozWeakMap||(c.prototype.get=function(t){for(var e,o=this.keys,i=e=0,n=o.length;e<n;i=++e)if(o[i]===t)return this.values[i]},c.prototype.set=function(t,e){for(var o,i=this.keys,n=o=0,r=i.length;o<r;n=++o)if(i[n]===t)return void(this.values[n]=e);return this.keys.push(t),this.values.push(e)},c),i=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(a.notSupported=!0,a.prototype.observe=function(){},a),l=this.getComputedStyle||function(o){return this.getPropertyValue=function(t){var e;return"float"===t&&(t="styleFloat"),n.test(t)&&t.replace(n,function(t,e){return e.toUpperCase()}),(null!=(e=o.currentStyle)?e[t]:void 0)||null},this},n=/(\-([a-z]){1})/g,this.WOW=(r.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0},r.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},r.prototype.start=function(){var n,t,e,o,s;if(this.stopped=!1,this.boxes=function(){for(var t=this.element.querySelectorAll("."+this.config.boxClass),e=[],o=0,i=t.length;o<i;o++)n=t[o],e.push(n);return e}.call(this),this.all=function(){for(var t=this.boxes,e=[],o=0,i=t.length;o<i;o++)n=t[o],e.push(n);return e}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(t=0,e=(o=this.boxes).length;t<e;t++)n=o[t],this.applyStyle(n,!0);return this.disabled()||(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new i((s=this,function(t){for(var n,r,e=[],o=0,i=t.length;o<i;o++)r=t[o],e.push(function(){for(var t=r.addedNodes||[],e=[],o=0,i=t.length;o<i;o++)n=t[o],e.push(this.doSync(n));return e}.call(s));return e})).observe(document.body,{childList:!0,subtree:!0}):void 0},r.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},r.prototype.sync=function(){return i.notSupported?this.doSync(this.element):void 0},r.prototype.doSync=function(t){var e,o,i,n,r;if(null==t&&(t=this.element),1===t.nodeType){for(r=[],o=0,i=(n=(t=t.parentNode||t).querySelectorAll("."+this.config.boxClass)).length;o<i;o++)e=n[o],s.call(this.all,e)<0?(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),r.push(this.scrolled=!0)):r.push(void 0);return r}},r.prototype.show=function(t){return this.applyStyle(t),t.className=t.className+" "+this.config.animateClass},r.prototype.applyStyle=function(t,e){var o,i=t.getAttribute("data-wow-duration"),n=t.getAttribute("data-wow-delay"),r=t.getAttribute("data-wow-iteration");return this.animate((o=this,function(){return o.customStyle(t,e,i,n,r)}))},r.prototype.animate="requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()},r.prototype.resetStyle=function(){for(var t,e=this.boxes,o=[],i=0,n=e.length;i<n;i++)t=e[i],o.push(t.style.visibility="visible");return o},r.prototype.customStyle=function(t,e,o,i,n){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",o&&this.vendorSet(t.style,{animationDuration:o}),i&&this.vendorSet(t.style,{animationDelay:i}),n&&this.vendorSet(t.style,{animationIterationCount:n}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},r.prototype.vendors=["moz","webkit"],r.prototype.vendorSet=function(n,t){var r,s,a,e=[];for(r in t)s=t[r],n[""+r]=s,e.push(function(){for(var t=this.vendors,e=[],o=0,i=t.length;o<i;o++)a=t[o],e.push(n[""+a+r.charAt(0).toUpperCase()+r.substr(1)]=s);return e}.call(this));return e},r.prototype.vendorCSS=function(t,e){for(var o,i=l(t),n=i.getPropertyCSSValue(e),r=this.vendors,s=0,a=r.length;s<a;s++)o=r[s],n=n||i.getPropertyCSSValue("-"+o+"-"+e);return n},r.prototype.animationName=function(e){var o;try{o=this.vendorCSS(e,"animation-name").cssText}catch(t){o=l(e).getPropertyValue("animation-name")}return"none"===o?"":o},r.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},r.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},r.prototype.scrollHandler=function(){return this.scrolled=!0},r.prototype.scrollCallback=function(){var n;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){for(var t=this.boxes,e=[],o=0,i=t.length;o<i;o++)(n=t[o])&&(this.isVisible(n)?this.show(n):e.push(n));return e}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},r.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},r.prototype.isVisible=function(t){var e=t.getAttribute("data-wow-offset")||this.config.offset,o=window.pageYOffset,i=o+Math.min(this.element.clientHeight,this.util().innerHeight())-e,n=this.offsetTop(t),r=n+t.clientHeight;return n<=i&&o<=r},r.prototype.util=function(){return null!=this._util?this._util:this._util=new t},r.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},r)}.call(void 0);